var __reflect=this&&this.__reflect||function(t,e,i){t.__class__=e,i?i.push(e):i=[e],t.__types__=t.__types__?i.concat(t.__types__):i},__extends=this&&this.__extends||function(t,e){function i(){this.constructor=t}for(var o in e)e.hasOwnProperty(o)&&(t[o]=e[o]);t.prototype=null===e?Object.create(e):(i.prototype=e.prototype,new i)},com;!function(t){var e=function(t){function e(){var e=t.call(this)||this;return e.isLoadRes=null,e.isFirstOpen=!0,e.classId=gAutoId.id,e.className=e.__proto__.__class__.split(".")[1],e.isFirstOpen=!0,e}return __extends(e,t),e.prototype.open=function(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];this.init.apply(this,t),this.isLoadRes||(this.isLoadRes=!0,this.load()),this._resizeView(),GameMgr.gameview.removeEventListener(gConst.eventType.RESIZE_VIEW,this._resizeView,this),GameMgr.gameview.addEventListener(gConst.eventType.RESIZE_VIEW,this._resizeView,this),this._rotateView(),GameMgr.gameview.removeEventListener(gConst.eventType.ROTATE_VIEW,this._rotateView,this),GameMgr.gameview.addEventListener(gConst.eventType.ROTATE_VIEW,this._rotateView,this),this.start(),this.update(),this.removeEventListener(egret.Event.ENTER_FRAME,this.update,this),this.addEventListener(egret.Event.ENTER_FRAME,this.update,this),this.removeEvent(),this.addEvent(),this.isFirstOpen&&(this.isFirstOpen=!1)},e.prototype.close=function(){this.end(),gComMgr.rmObj(this),this.dispatchEventWith(gConst.eventType.CLOSE)},e.prototype.end=function(){this.isLoadRes=!1,GameMgr.gameview.removeEventListener(gConst.eventType.RESIZE_VIEW,this._resizeView,this),GameMgr.gameview.removeEventListener(gConst.eventType.ROTATE_VIEW,this._rotateView,this),this.removeEventListener(egret.Event.ENTER_FRAME,this.update,this),this.removeEvent(),this.stop()},e.prototype.show=function(){this.visible=!0},e.prototype.hide=function(){this.visible=!1},e.prototype.destroy=function(t){GameMgr.gameview.removeEventListener(gConst.eventType.RESIZE_VIEW,this.resizeView,this),GameMgr.gameview.removeEventListener(gConst.eventType.ROTATE_VIEW,this.rotateView,this),this.removeEventListener(egret.Event.ENTER_FRAME,this.update,this),this.removeEvent(),this.isFirstOpen=!1,t?gComMgr.fadeOutDestory(this):gComMgr.destory(this)},e.prototype.clickInstall=function(t){t&&t.stopPropagation(),Mapi.install()},e.prototype._resizeView=function(t){this.resizeView(t)},e.prototype._rotateView=function(t){this.rotateView(t)},e}(eui.Component);t.ComFileBase=e,__reflect(e.prototype,"com.ComFileBase")}(com||(com={}));var ui;!function(t){var e=function(e){function i(){var t=e.call(this)||this;return t.isUiFirstLimit=!0,t.isLoadRes=null,t.isFirstOpen=!0,t.screenType=null,t.mobileType=null,t.classId=gAutoId.id,t.isFirstOpen=!0,t}return __extends(i,e),i.prototype.open=function(){for(var e=[],i=0;i<arguments.length;i++)e[i]=arguments[i];if(this.className===gDevelop.classToString(t.UiFirst))GameMgr.gameview.addChild(this);else{var o=gUiMgr.get(t.UiFirst);if(o&&o.parent&&this.isUiFirstLimit){var a=GameMgr.gameview.getChildIndex(o);this.parent===GameMgr.gameview&&(a--,a=Math.max(a,0)),GameMgr.gameview.addChildAt(this,a)}else GameMgr.gameview.addChild(this)}this.init.apply(this,e),this.isFirstOpen&&this._initResizeView(),this.isLoadRes||(this.isLoadRes=!0,this.load()),this._resizeView(),GameMgr.stage.removeEventListener(egret.Event.RESIZE,this._resizeView,this),GameMgr.stage.addEventListener(egret.Event.RESIZE,this._resizeView,this),this.start(),this.update(),this.removeEventListener(egret.Event.ENTER_FRAME,this.update,this),this.addEventListener(egret.Event.ENTER_FRAME,this.update,this),this.removeEvent(),this.addEvent(),this.isFirstOpen&&(this.isFirstOpen=!1)},i.prototype.close=function(){this.end(),gComMgr.rmObj(this),this.dispatchEventWith(gConst.eventType.CLOSE)},i.prototype.end=function(){this.isLoadRes=!1,GameMgr.stage.removeEventListener(egret.Event.RESIZE,this._resizeView,this),this.removeEventListener(egret.Event.ENTER_FRAME,this.update,this),this.removeEvent(),this.stop()},i.prototype.show=function(){this.visible=!0},i.prototype.hide=function(){this.visible=!1},i.prototype.destroy=function(t){var e=gUiMgr.getByClassName(this.className);e&&(e.removeEventListener(egret.Event.ENTER_FRAME,e.update,e),e.removeEvent(),t?gComMgr.fadeOutDestory(e):e=gComMgr.destory(e),gUiMgr.destroy(this.className),this.isLoadRes=null)},i.prototype.clickInstall=function(t){t&&t.stopPropagation(),Mapi.install()},i.prototype.clickReplay=function(t){t.stopPropagation(),GameMgr.replay()},i.prototype.gameEnd=function(){Mapi.gameEnd()},i.prototype._initResizeView=function(){var t,e,i,o=GameMgr.getWinW,a=GameMgr.getWinH,n=this.isFirstOpen;return a>o?(0===this.screenType&&(n=!0),this.screenType=1,t=750,e=750/o*a,i=o/a):(1===this.screenType&&(n=!0),this.screenType=0,e=750,t=750/a*o,i=a/o),this.width=Math.ceil(t),this.height=Math.ceil(e),this.mobileType=.51>i?1:.65>i?2:3,n},i.prototype._resizeView=function(t){var e=this._initResizeView();this.resizeView(),e&&this.rotateView()},i}(eui.Component);t.UiFileBase=e,__reflect(e.prototype,"ui.UiFileBase")}(ui||(ui={}));var util;!function(t){var e=function(){function t(){this.newId=0}return Object.defineProperty(t.prototype,"id",{get:function(){return this.newId++,this.newId},enumerable:!0,configurable:!0}),t}();t.AutoId=e,__reflect(e.prototype,"util.AutoId")}(util||(util={}));var gConst;!function(t){t.eventType={GAME_READY:"gameReady",GAME_START:"gameStart",GAME_RETRY:"gameRetry",GAME_END:"gameEnd",GAME_CLOSE:"gameClose",INSTALL:"install",RESIZE_VIEW:"resizeView",ROTATE_VIEW:"rotateView",GUIDE_TOUCH_ONE:"guideTouchOne",GUIDE_STOP:"guideStop",IN_COMPLETE:"inComplete",IN_LOOP_COMPLETE:"inLoopComplete",OUT_COMPLETE:"outComplete",OUT_LOOP_COMPLETE:"outLoopComplete",CHOOSE_COMPLETE:"chooseComplete",CHOOSE_LOOP_COMPLETE:"chooseLoopComplete",ONE_STEP_COMPLETE:"oneStepComplete",ONE_STEP_FAIL:"oneStepFail",ONCE_COMPLETE:"onceComplete",ONCE_FAIL:"onceFail",ALL_COMPLETE:"allComplete",ALL_FAIL:"allFail",USE_UP:"useUp",TOUCH_TAP:"touchTap",TOUCH_BEGIN:"touchBegin",TOUCH_MOVE:"touchMove",TOUCH_END:"touchEnd",RIGHT_ANSWER:"rightAnswer",SHOW_GUIDE:"showGuide",HIDE_GUIDE:"hideGuide",OPEN_TRAN:"openTran",CLOSE_TRAN:"closeTran",OPEN_END:"openEnd",CLOSE_END:"closeEnd",OPEN_PEOPLE:"openPeople",CLOSE_PEOPLE:"closePeople",SHOW_BLACK:"showBlack",HIDE_BLACK:"hideBlack",SHOW_SCENE0:"showScene0",HIDE_SCENE0:"hideScene0",SHOW_SCENE1:"showScene1",HIDE_SCENE1:"hideScene1",SHOW_SCENE2:"showScene2",HIDE_SCENE2:"hideScene2",CLOSE:"close",REMOVE_OBJ:"removeObj",CLICK_OBJ:"clickObj",SHOW_CURTAIN_FULL:"showCurtainFull",SHOW_CAR_START:"showCarStart",FEED_COMPLETE:"feedComplete",BAR_COVER_IN_GIRL:"barCoverInGirl",SHOW_ITEMS:"showItems",ADD_PATTERN:"addPattern",UPDATE_GOLD:"updateGold",LV_TO_MAX:"lvToMax",START_PARTILCLE:"startPartilcle",START_PLAY_KEY:"startPlayKey",MOVE_KEY:"moveKey"},t.direction={CENTER_CENTER:"centerCenter",LEFT_TOP:"leftTop",CENTER_TOP:"centerTop",RIGHT_TOP:"rightTop",RIGHT_CENTER:"rightCenter",RIGHT_BOTTOM:"rightBottom",CENTER_BOTTOM:"centerBottom",LEFT_BOTTOM:"leftBottom",LEFT_CENTER:"leftCenter"},t.mobileByScale=(e={},e[1]=(i={},i[1]=1,i[2]=1,i[3]=.8,i),e[0]=(o={},o[1]=1,o[2]=1,o[3]=.8,o),e),t.itemIdByName={1:"pork",2:"fish",3:"fruit",4:"bakery",5:"clothing"},t.cellSkin=(a={},a[1]="Red",a[2]="Yellow",a[3]="Green",a[4]="Blue",a),t.cellName=(n={},n[1]="red",n[2]="yellow",n[3]="green",n[4]="blue",n),t.cellColor=(r={},r[1]=16732252,r[2]=16764516,r[3]=6540929,r[4]=7244989,r),t.peopleFaceName=(s={},s[11]="smile",s[12]="happy",s[13]="sleepy",s[14]="angry",s),t.stateName=(h={},h[0]="idle",h[1]="dropDown",h[2]="walk",h[3]="stand",h[4]="die",h[5]="shot",h),t.itemIdByType=(c={},c[0]="start",c[1]="a",c[2]="b",c[3]="c",c[4]="end",c),t.boardItems=[{id:1,name:"pork"},{id:2,name:"fish"},{id:3,name:"fruit"},{id:4,name:"bakery"},{id:5,name:"clothing"}];var e,i,o,a,n,r,s,h,c}(gConst||(gConst={}));var ui;!function(t){var e=function(t){function e(){var e=t.call(this)||this;return e.isUiFirstLimit=!0,e}return __extends(e,t),e.prototype.init=function(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e]},e.prototype.load=function(){},e.prototype.start=function(){},e.prototype.stop=function(){},e.prototype.update=function(){},e.prototype.addEvent=function(){},e.prototype.removeEvent=function(){},e.prototype.open=function(){for(var e=[],i=0;i<arguments.length;i++)e[i]=arguments[i];t.prototype.open.apply(this,e)},e.prototype.close=function(){t.prototype.close.call(this)},e.prototype.show=function(){t.prototype.show.call(this)},e.prototype.hide=function(){t.prototype.hide.call(this)},e.prototype.destroy=function(e){t.prototype.destroy.call(this,e)},e.prototype.resizeView=function(){if(1==this.screenType)switch(this.mobileType){case 1:break;case 2:break;case 3:}else switch(this.mobileType){case 1:break;case 2:break;case 3:}},e.prototype.rotateView=function(){1==this.screenType},e}(t.UiFileBase);t.UiFile=e,__reflect(e.prototype,"ui.UiFile")}(ui||(ui={}));var util;!function(t){var e=function(){function t(){this.uiFilePool={}}return t.prototype.create=function(t){if("string"==typeof t)return this.UiFileEmpty;var e=gDevelop.classToString(t);if(ui[e]){var i=this.getByClassName(e);return i||(i=new ui[e],i.className=e,this.uiFilePool[e]=i),i}return this.UiFileEmpty},t.prototype.get=function(t){var e=gDevelop.classToString(t);return ui[e]?this.uiFilePool[e]:void 0},t.prototype.getByClassName=function(t){return this.uiFilePool[t]},t.prototype.destroy=function(t){this.uiFilePool[t]=null},Object.defineProperty(t.prototype,"UiFileEmpty",{get:function(){return this.uiEmpty||(this.uiEmpty=new ui.UiEmpty),this.uiEmpty},enumerable:!0,configurable:!0}),t}();t.UiMgr=e,__reflect(e.prototype,"util.UiMgr")}(util||(util={}));var com;!function(t){var e=function(t){function e(){return t.call(this)||this}return __extends(e,t),e.prototype.init=function(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e]},e.prototype.load=function(){},e.prototype.start=function(){},e.prototype.stop=function(){},e.prototype.update=function(){},e.prototype.addEvent=function(){},e.prototype.removeEvent=function(){},e.prototype.resizeView=function(t){if(1==GameMgr.screenType)switch(GameMgr.mobileType){case 1:break;case 2:break;case 3:}else switch(GameMgr.mobileType){case 1:break;case 2:break;case 3:}},e.prototype.rotateView=function(t){1==GameMgr.screenType},e.prototype.show=function(){t.prototype.show.call(this)},e.prototype.hide=function(){t.prototype.hide.call(this)},e.prototype.destroy=function(e){t.prototype.destroy.call(this,e)},e}(t.ComFileBase);t.ComFile=e,__reflect(e.prototype,"com.ComFile")}(com||(com={}));var util;!function(t){var e=function(){function t(){}return t.prototype.clickAim=function(t,e,i){switch(void 0===e&&(e=1),gTween.rmTweens(t),e){case 0:var o=t.alpha;gTween.tween(t,void 0,{props:{alpha:0},duration:200,call:{callback:function(){t.visible=!1,t.alpha=o},thisObj:this}});break;case 1:var a=i&&i.x?i.x:t.scaleX,n=i&&i.y?i.y:t.scaleY;egret.Tween.get(t).to({scaleX:.85*a,scaleY:.85*n},200).to({scaleX:a,scaleY:n},200)}},t.prototype.rmObj=function(t){return t&&t.parent&&t.parent.removeChild(t),null},t.prototype.rmEvent=function(t){this.destoryEvent(t.$getEventMap()),this.destoryEvent(t.$getEventMap(!0))},t.prototype.setObjSize=function(t,e){void 0===e&&(e=!1);var i=RES.getRes(t.source);if(i&&(t.width=i.textureWidth,t.height=i.textureHeight),e){var o=t.parent;o&&(o.width=t.width*t.scaleX,o.height=t.height*t.scaleY)}},t.prototype.setObjAnchor=function(t,e){void 0===e&&(e=!1),this.setObjSize(t,e);var i=t.width/2,o=t.height/2;t.anchorOffsetX=i,t.anchorOffsetY=o},t.prototype.setItemAnchor=function(t,e,i){if(void 0===e&&(e=!0),void 0===i&&(i=!0),t){var o=RES.getRes(t.source);o&&(t.width=o.textureWidth,t.height=o.textureHeight);var a=t.width/2,n=t.height/2;t.anchorOffsetX=a,t.anchorOffsetY=n;var r=Math.abs(t.scaleX),s=Math.abs(t.scaleY);if(e){var h=t.parent;h&&(h.width=t.width*r,h.height=t.height*s,i&&(h.anchorOffsetX=t.anchorOffsetX*r,h.anchorOffsetY=t.anchorOffsetY*s))}t.x=a*r,t.y=n*s}},t.prototype.destory=function(t){return this.rmEvent(t),gTween.rmTweens(t),this.rmObj(t),null},t.prototype.fadeOutDestory=function(t,e,i,o){var a=this;void 0===e&&(e=300);for(var n=[],r=4;r<arguments.length;r++)n[r-4]=arguments[r];gTween.fadeOut(t,e,void 0,void 0,void 0,{callback:function(){a.destory(t),i&&i.call.apply(i,[o].concat(n))}})},t.prototype.destoryEvent=function(t){if(t)for(var e in t){var i=t[e];if(i)for(;i.length;){var o=i.pop();o.target.removeEventListener(o.type,o.listener,o.thisObject,o.useCapture)}}},t.prototype.toLocal=function(t,e,i,o){return t?(e=void 0!=e?e:t.x,i=void 0!=i?i:t.y,t.globalToLocal(e,i,o)):void 0},t.prototype.toGlobal=function(t,e,i,o){return t?t.parent?(e=void 0!=e?e:t.x,i=void 0!=i?i:t.y,t.parent.localToGlobal(e,i,o)):(e=void 0!=e?e:0,i=void 0!=i?i:0,t.localToGlobal(e,i,o)):void 0},t.prototype.hitTestObj=function(t,e,i,o){if(void 0===i&&(i={x:0,y:0}),void 0===o&&(o={x:0,y:0}),t&&e){var a=t.getBounds(),n=e.getBounds();return a.x=t.x+(i.x||0),a.y=t.y+(i.y||0),n.x=e.x+(o.x||0),n.y=e.y+(o.y||0),a.intersects(n)}},t}();t.ComMgr=e,__reflect(e.prototype,"util.ComMgr")}(util||(util={}));var util;!function(t){var e=function(){function t(){}return t.prototype.objIsNull=function(t){if(!t)return!0;for(var e in t){var i=t[e];if(void 0!=i)return!1}return!0},t.prototype.arrHasVal=function(t,e){if(t===e)return!0;if(t&&!(t.length<=0)){for(var i=0,o=t;i<o.length;i++){var a=o[i];if(a===e)return!0;if(a.length&&a.length>0&&e.length&&e.length){for(var n=!0,r=0;r<e.length;r++)if(!this.arrHasVal(a[r],e[r])){n=!1;break}if(n)return!0}}return!1}},t.prototype.arrDelVal=function(t,e){if(t&&!(t.length<=0))for(var i=0;i<t.length;i++){var o=t[i];if(o===e){t.splice(i,1);break}}},t.prototype.classToString=function(t){if(t){var e=t.prototype.__class__.split("."),i=e.length;if(e&&!(0>=i)){var o=e[i-1];return o}}},t}();t.DevelopMgr=e,__reflect(e.prototype,"util.DevelopMgr")}(util||(util={}));var util;!function(t){var e=function(){function t(){this.maxStep=2,this.delayTimer=500,this.pressT=100,this.liftT=200,this._stepId=1,this.GuideCfg={1:{id:1,target:["6_0","0_0","0_6"],moveTime:500,vertexTarget:["6_0","0_6"],items:["6_0","5_0","4_0","3_0","2_0","1_0","0_0","0_1","0_2","0_3","0_4","0_5","0_6"],finish:!1},2:{id:2,target:["1_0","1_1","0_1","0_0","1_0"],lineGuide:!0,isHeadAndTail:!0,moveTime:200,items:["1_0","1_1","0_1","0_0"],finish:!1}}}return t.prototype.init=function(){this.stepId=1,this.initGuide(),this.initFirstGuideCfg()},Object.defineProperty(t.prototype,"stepId",{get:function(){return this._stepId},set:function(t){this._stepId=t},enumerable:!0,configurable:!0}),t.prototype.initGuide=function(){for(var t in this.GuideCfg){var e=this.GuideCfg[t];e.finish&&(e.finish=!1)}},t.prototype.initFirstGuideCfg=function(){this.firstGuideCfg=(t={},t[1]=!0,t[2]=!0,t[3]=!0,t);var t},t.prototype.isFirstGuideByProps=function(t){return this.firstGuideCfg[t]},t.prototype.updateFirstGuideByProps=function(t){this.firstGuideCfg[t]&&(this.firstGuideCfg[t]=!1)},t.prototype.getGuideById=function(t){return void 0!=t?this.GuideCfg[t]:void 0},t.prototype.finishGuide=function(t){void 0===t&&(t=this.stepId);var e=this.getGuideById(t);e&&(e.finish=!0)},t.prototype.lastGuideFinish=function(){var t=this.getGuideById(this.maxStep);if(t)return t.finish},t.prototype.createHand=function(t,e){var i=new com.ComBones;return i.setData(t,"guide",e),i.create(),i},t}();t.GuideMgr=e,__reflect(e.prototype,"util.GuideMgr")}(util||(util={}));var util;!function(t){var e=function(){function t(){}return t.prototype.getRandom=function(t,e){return void 0===e&&(e=0),t==e?t:Math.random()*(t-e)+e},t.prototype.getRandomInteger=function(t,e){return void 0===e&&(e=0),Math.floor(this.getRandom(t,e))},t.prototype.getRandomAnswer=function(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];if(t&&0!=t.length){var i=t.length,o=1==i?0:this.getRandomInteger(i);return t[o]}},t.prototype.getSquarePositive=function(t,e){if(void 0===e&&(e=2),0>e)return void console.warn("此接口一般不开放，如需要开负数次方，推荐使用：getSquare()");for(var i=t,o=0;e>o;o++)i*=t;return i/=t},t.prototype.getSquare=function(t,e){void 0===e&&(e=2);var i=t;return i=Math.pow(t,e)},t.prototype.keepDecimal=function(t,e){void 0===e&&(e=2),e=Math.max(0,e);var i=this.getSquare(10,e);return Math.round(t*i)/i},t.prototype.getDistance=function(t,e,i,o){var a;return a=egret.Point.distance({x:t,y:e},{x:i,y:o}),a=Math.floor(a)},t.prototype.switchNum=function(t,e,i){var o=t+"";if(void 0!=i){var a=i-o.length;if(a>0)for(var n=0;a>n;n++)o="0"+o}if(e){for(var r=o,s=/(\d+)(\d{3})/;s.test(r);)r=r.replace(s,"$1,$2");o=r}return o},t.prototype.getTimeBySpeed=function(t,e,i,o,a){return void 0===i&&(i=t),void 0===o&&(o=e),Math.ceil(1e3*gMath.getDistance(t,e,i,o)/a)},t.prototype.switchHour=function(t,e){void 0===e&&(e=!0);var i,o=e?23:11;return t>o&&(t%=o+1),i=10>t?"0"+t+":00":t+":00"},t.prototype.switchMinute=function(t){var e=this.keepDecimal(t/1e3,0),i=this.switchNum(Math.floor(e/60),!1,2),o=this.switchNum(e%60,!1,2);return i+":"+o},t.prototype.rotateToDir=function(t){return(t+270)*Math.PI/180},t.prototype.pointToRotate=function(t,e,i,o){var a=Math.atan2(o-e,i-t),n=a*(180/Math.PI);return n+90},t.prototype.pointListByDensity=function(t,e,i,o,a){void 0===a&&(a=1);var n,r;if(void 0!=t&&void 0!=e?(n=n||{},n.x=t,n.y=e):r=!0,void 0!=i&&void 0!=o?(n=n||{},n.x=i,n.y=o):r=!0,n){var s=[];if(r)s.push(n);else{var h=gMath.getDistance(t,e,i,o);a=Math.min(a,h);for(var c=h/a,l=1;c>=l;l++){var p=Math.round(t-(t-i)*l/c),d=Math.round(e-(e-o)*l/c);s.push({x:p,y:d})}var f=s[0];(f.x!=t||f.y!=e)&&s.unshift({x:t,y:e});var u=s[s.length-1];(u.x!=i||u.y!=o)&&s.push({x:i,y:o})}return s}},t}();t.MathMgr=e,__reflect(e.prototype,"util.MathMgr")}(util||(util={}));var util;!function(t){var e=function(){function t(){}return t.prototype.init=function(){},t.prototype.changeBg=function(t){changeBgMusic&&changeBgMusic("resource/assets/sound/"+t+".mp3")},t.prototype.playEff=function(t,e){void 0===e&&(e=1),window.webIsActivate&&playSoundEff&&playSoundEff("resource/assets/sound/"+t+".mp3",e)},t.prototype.stopEff=function(t){stopSoundEff&&stopSoundEff("resource/assets/sound/"+t+".mp3")},t.prototype.stopAllSound=function(){stopAllSound&&stopAllSound()},t.prototype.recoveryAllSound=function(){recoveryAllSound&&recoveryAllSound()},t.prototype.destory=function(){destorySound&&destorySound()},t}();t.SoundMgr=e,__reflect(e.prototype,"util.SoundMgr")}(util||(util={}));var util;!function(t){var e=function(){function t(){}return t.prototype.toHeight=function(t,e,i,o,a,n,r){void 0===n&&(n={duration:0}),void 0!=o?t.height=o:o=t.height,this.tween(t,void 0,{props:{height:e},ease:a,wait:n,duration:i,call:r})},t.prototype.toAlpha=function(t,e,i,o,a,n,r){void 0===n&&(n={duration:0}),void 0!=o?t.alpha=o:o=t.alpha,this.tween(t,void 0,{props:{alpha:e},ease:a,wait:n,duration:i,call:r})},t.prototype.toScale=function(t,e,i,o,a,n,r){void 0===n&&(n={duration:0}),void 0!=o?t.scaleX=t.scaleY=o:o=t.scaleX,this.tween(t,void 0,{props:{scaleX:e,scaleY:e},ease:a,wait:n,duration:i,call:r})},t.prototype.toScaleX=function(t,e,i,o,a,n,r){void 0===n&&(n={duration:0}),void 0!=o?t.scaleX=o:o=t.scaleX,this.tween(t,void 0,{props:{scaleX:e},ease:a,wait:n,duration:i,call:r})},t.prototype.toScaleY=function(t,e,i,o,a,n,r){void 0===n&&(n={duration:0}),void 0!=o?t.scaleY=o:o=t.scaleY,this.tween(t,void 0,{props:{scaleY:e},ease:a,wait:n,duration:i,call:r})},t.prototype.toMove=function(t,e,i,o,a,n,r,s,h){void 0===s&&(s={duration:0}),void 0!=a&&(t.x=a),void 0!=n&&(t.y=n),r?void 0==r.y&&(r.y=r.x):r={x:void 0,y:void 0};var c,l;o&&(void 0==o.y?(o.y=o.x,c=h):o.x>o.y?c=h:l=h),this.rmTweens(t),egret.Tween.get(t).to({x:e},o.x,r.x).wait(s.duration,s.passive).call(function(){c&&c.callback&&(t=c.callback).call.apply(t,[c.thisObj].concat(c.params));var t}),egret.Tween.get(t).to({y:i},o.y,r.y).wait(s.duration,s.passive).call(function(){l&&l.callback&&(t=l.callback).call.apply(t,[l.thisObj].concat(l.params));var t})},t.prototype.toMoveBySpeed=function(t,e,i,o,a,n,r){void 0===e&&(e=t.x),void 0===i&&(i=t.y),void 0===o&&(o=500);for(var s=[],h=7;h<arguments.length;h++)s[h-7]=arguments[h];var c=gMath.getTimeBySpeed(t.x,t.y,e,i,o);return gTween.toMove(t,e,i,{x:c},void 0,void 0,a,void 0,{callback:function(){n&&n.call.apply(n,[r].concat(s))}}),c},t.prototype.toMoveX=function(t,e,i,o,a,n,r){void 0===n&&(n={duration:0}),void 0!=o&&(t.x=o),this.tween(t,void 0,{props:{x:e},ease:a,wait:n,duration:i,call:r})},t.prototype.toMoveY=function(t,e,i,o,a,n,r){void 0===n&&(n={duration:0}),void 0!=o&&(t.y=o),this.tween(t,void 0,{props:{y:e},ease:a,wait:n,duration:i,call:r})},t.prototype.toBottomShow=function(t,e,i,o,a,n,r,s){void 0===i&&(i=t.height),void 0===o&&(o=t.y),void 0===a&&(a=t.alpha),void 0===r&&(r={duration:0}),t.y-=i,t.alpha=0,t.visible=!0,this.tween(t,void 0,{props:{y:o,alpha:a},ease:n,wait:r,duration:e,call:s})},t.prototype.toTopHide=function(t,e,i,o,a,n,r,s){void 0===i&&(i=t.height),void 0===o&&(o=t.y),void 0===a&&(a=t.alpha),void 0===r&&(r={duration:0}),this.tween(t,void 0,{props:{y:o-i,alpha:0},ease:n,wait:r,duration:e,call:{callback:function(){t.visible=!1,t.y=o,t.alpha=a,s&&s.callback&&(e=s.callback).call.apply(e,[s.thisObj].concat(s.params));var e},thisObj:this}})},t.prototype.toTopShow=function(t,e,i,o,a,n,r,s){void 0===i&&(i=t.height),void 0===o&&(o=t.y),void 0===a&&(a=t.alpha),void 0===r&&(r={duration:0}),t.y+=i,t.alpha=0,t.visible=!0,this.tween(t,void 0,{props:{y:o,alpha:a},ease:n,wait:r,duration:e,call:s})},t.prototype.toBottomHide=function(t,e,i,o,a,n,r,s){void 0===i&&(i=t.height),void 0===o&&(o=t.y),void 0===a&&(a=t.alpha),void 0===r&&(r={duration:0}),this.tween(t,void 0,{props:{y:o+i,alpha:0},ease:n,wait:r,duration:e,call:{callback:function(){t.visible=!1,t.y=o,t.alpha=a,s&&s.callback&&(e=s.callback).call.apply(e,[s.thisObj].concat(s.params));var e},thisObj:this}})},t.prototype.toYShowPhy=function(t,e,i,o,a,n,r,s,h,c){void 0===o&&(o=t.height),void 0===a&&(a=t.y),void 0===n&&(n=t.alpha),void 0===r&&(r=egret.Ease.sineOut),void 0===s&&(s=egret.Ease.sineIn),void 0===h&&(h={duration:0}),t.y+=o,t.alpha=0,t.visible=!0,egret.Tween.get(t).to({y:a-e,alpha:n},Math.floor(i/2),r).to({y:a},Math.floor(i/4),s).to({y:a-Math.floor(e/6)},Math.floor(i/8),r).to({y:a},Math.floor(i/8),s).wait(h.duration,h.passive).call(function(){c&&c.callback&&(t=c.callback).call.apply(t,[c.thisObj].concat(c.params));var t},this)},t.prototype.toRightShow=function(t,e,i,o,a,n,r,s){void 0===i&&(i=t.width),void 0===o&&(o=t.x),void 0===a&&(a=t.alpha),void 0===r&&(r={duration:0}),t.x-=i,t.alpha=0,t.visible=!0,this.tween(t,void 0,{props:{x:o,alpha:a},ease:n,wait:r,duration:e,call:s})},t.prototype.toLeftHide=function(t,e,i,o,a,n,r,s){void 0===i&&(i=t.width),void 0===o&&(o=t.x),void 0===a&&(a=t.alpha),void 0===r&&(r={duration:0}),this.tween(t,void 0,{props:{x:o-i,alpha:0},ease:n,wait:r,duration:e,call:{callback:function(){t.visible=!1,t.x=o,t.alpha=a,s&&s.callback&&(e=s.callback).call.apply(e,[s.thisObj].concat(s.params));var e},thisObj:this}})},t.prototype.toLeftShow=function(t,e,i,o,a,n,r,s){void 0===i&&(i=t.width),void 0===o&&(o=t.x),void 0===a&&(a=t.alpha),void 0===r&&(r={duration:0}),t.x+=i,t.alpha=0,t.visible=!0,this.tween(t,void 0,{props:{x:o,alpha:a},ease:n,wait:r,duration:e,call:s})},t.prototype.toRightHide=function(t,e,i,o,a,n,r,s){void 0===i&&(i=t.width),void 0===o&&(o=t.x),void 0===a&&(a=t.alpha),void 0===r&&(r={duration:0}),this.tween(t,void 0,{props:{x:o+i,alpha:0},ease:n,wait:r,duration:e,call:{callback:function(){t.visible=!1,t.x=o,t.alpha=a,s&&s.callback&&(e=s.callback).call.apply(e,[s.thisObj].concat(s.params));var e},thisObj:this}})},t.prototype.toXShowPhy=function(t,e,i,o,a,n,r,s,h,c){void 0===o&&(o=t.width),void 0===a&&(a=t.x),void 0===n&&(n=t.alpha),void 0===r&&(r=egret.Ease.sineOut),void 0===s&&(s=egret.Ease.sineIn),void 0===h&&(h={duration:0}),t.x+=o,t.alpha=0,t.visible=!0,egret.Tween.get(t).to({x:a-e,alpha:n},Math.floor(i/2),r).to({x:a},Math.floor(i/4),s).to({x:a-Math.floor(e/6)},Math.floor(i/8),r).to({x:a},Math.floor(i/8),s).wait(h.duration,h.passive).call(function(){c&&c.callback&&(t=c.callback).call.apply(t,[c.thisObj].concat(c.params));var t},this)},t.prototype.toBigShow=function(t,e,i,o,a,n,r){void 0===i&&(i=t.scaleX),void 0===o&&(o=t.alpha),void 0===n&&(n={duration:0}),t.scaleX=t.scaleY=0,t.alpha=0,t.visible=!0,this.tween(t,void 0,{props:{scaleX:i,scaleY:i,alpha:o},ease:a,wait:n,duration:e,call:r})},t.prototype.showBubble=function(t,e,i,o,a,n,r){var s=this;void 0===e&&(e=500),void 0===r&&(r={isFloat:!0}),i||(i={}),i.orgS=void 0!=i.orgS?i.orgS:t.scaleX,i.orgA=void 0!=i.orgA?i.orgA:t.alpha,i.ease=void 0!=i.ease?i.ease:egret.Ease.bounceOut,gTween.toBigShow(t,e,i.orgS,i.orgA,i.ease,i.wait,{callback:function(){r&&void 0===r.isFloat&&(r.isFloat=!0),r.isFloat&&s.floatBubble(t,r.targetY,r.duration,r.orgY,r.ease),o&&o.call(a,n)}})},t.prototype.toSmallHide=function(t,e,i,o,a,n,r){void 0===o&&(o=t.alpha),void 0===n&&(n={duration:0}),void 0!=i?t.scaleX=t.scaleY=i:i=t.scaleX,this.tween(t,void 0,{props:{scaleX:0,scaleY:0,alpha:0},ease:a,wait:n,duration:e,call:{callback:function(){t.visible=!1,t.scaleX=t.scaleY=i,t.alpha=o,r&&r.callback&&(e=r.callback).call.apply(e,[r.thisObj].concat(r.params));var e},thisObj:this}})},t.prototype.hideBubble=function(t,e,i,o,a,n){void 0===e&&(e=300),i||(i={}),i.orgS=void 0!=i.orgS?i.orgS:t.scaleX,i.orgA=void 0!=i.orgA?i.orgA:t.alpha,gTween.toSmallHide(t,e,i.orgS,i.orgA,i.ease,i.wait,{callback:o,thisObj:a,params:n})},t.prototype.toSmallShow=function(t,e,i,o,a,n,r,s){void 0===a&&(a=t.alpha),void 0===r&&(r={duration:0}),void 0!=o?t.scaleX=t.scaleY=o:o=t.scaleX,t.scaleX=t.scaleY*=e,t.alpha=0,t.visible=!0,this.tween(t,void 0,{props:{scaleX:o,scaleY:o,alpha:a},ease:n,wait:r,duration:i,call:s})},t.prototype.toBigHide=function(t,e,i,o,a,n,r,s){void 0===a&&(a=t.alpha),void 0===r&&(r={duration:0}),void 0!=o?t.scaleX=t.scaleY=o:o=t.scaleX,this.tween(t,void 0,{props:{scaleX:t.scaleX*e,scaleY:t.scaleX*e,alpha:0},ease:n,wait:r,duration:i,call:{callback:function(){t.visible=!1,t.scaleX=t.scaleY=o,t.alpha=a,s&&s.callback&&(e=s.callback).call.apply(e,[s.thisObj].concat(s.params));var e},thisObj:this}})},t.prototype.toWidthAddShow=function(t,e,i,o,a,n,r){void 0===i&&(i=t.width),void 0===o&&(o=t.alpha),void 0===n&&(n={duration:0}),t.width=0,t.alpha=0,t.visible=!0,this.tween(t,void 0,{props:{width:i,alpha:o},ease:a,wait:n,duration:e,call:r})},t.prototype.toWidthCutHide=function(t,e,i,o,a,n,r){void 0===i&&(i=t.width),void 0===o&&(o=t.alpha),void 0===n&&(n={duration:0}),this.tween(t,void 0,{props:{width:0,alpha:0},ease:a,wait:n,duration:e,call:{callback:function(){t.visible=!1,t.width=i,t.alpha=o,r&&r.callback&&(e=r.callback).call.apply(e,[r.thisObj].concat(r.params));var e},thisObj:this}})},t.prototype.toHeightAddShow=function(t,e,i,o,a,n,r){void 0===i&&(i=t.height),void 0===o&&(o=t.alpha),void 0===n&&(n={duration:0}),t.height=0,t.alpha=0,t.visible=!0,this.tween(t,void 0,{props:{height:i,alpha:o},ease:a,wait:n,duration:e,call:r})},t.prototype.toHeightCutHide=function(t,e,i,o,a,n,r){void 0===i&&(i=t.height),void 0===o&&(o=t.alpha),void 0===n&&(n={duration:0}),this.tween(t,void 0,{props:{height:0,alpha:0},ease:a,wait:n,duration:e,call:{callback:function(){t.visible=!1,t.height=i,t.alpha=o,r&&r.callback&&(e=r.callback).call.apply(e,[r.thisObj].concat(r.params));var e},thisObj:this}})},t.prototype.toWidthChange=function(t,e,i,o,a,n,r){void 0===n&&(n={duration:0}),void 0!=o&&(t.width=o),o=t.width,t.visible=!0,this.tween(t,void 0,{props:{width:o+i},ease:a,wait:n,duration:e,call:{callback:function(){t.width<=0&&(t.width=0,t.visible=!1),r&&r.callback&&(e=r.callback).call.apply(e,[r.thisObj].concat(r.params));var e},thisObj:this}})},t.prototype.fadeIn=function(t,e,i,o,a,n){void 0===i&&(i=t.alpha),void 0===a&&(a={duration:0}),t.alpha=0,t.visible=!0,this.tween(t,void 0,{props:{alpha:i},ease:o,wait:a,duration:e,call:n})},t.prototype.fadeOut=function(t,e,i,o,a,n){void 0===i&&(i=t.alpha),this.tween(t,void 0,{props:{alpha:0},ease:o,wait:a,duration:e,call:{callback:function(){t.visible=!1,t.alpha=i,n&&n.callback&&(e=n.callback).call.apply(e,[n.thisObj].concat(n.params));var e},thisObj:this}})},t.prototype.loopFloat=function(t,e,i,o,a){void 0===e&&(e=-20),void 0===i&&(i=500),void 0!=o?t.y=o:o=t.y,this.tween(t,{loop:!0},{props:{y:o+e},duration:i,ease:a},{props:{y:o},duration:i,ease:a})},t.prototype.floatBubble=function(t,e,i,o,a){void 0===e&&(e=-20),void 0===i&&(i=500),void 0===o&&(o=t.y),gTween.loopFloat(t,e,i,o,a)},t.prototype.loopScale=function(t,e,i,o,a){void 0===e&&(e=.85),void 0===i&&(i=500),void 0!=o?t.scaleX=t.scaleY=o:o=t.scaleX,this.tween(t,{loop:!0},{props:{scaleX:o*e,scaleY:o*e},duration:i,ease:a},{props:{scaleX:o,scaleY:o},duration:i,ease:a})},t.prototype.loopScaleX=function(t,e,i,o,a){void 0===e&&(e=.85),void 0===i&&(i=500),void 0!=o?t.scaleX=o:o=t.scaleX,this.tween(t,{loop:!0},{props:{scaleX:o*e},duration:i,ease:a},{props:{scaleX:o},duration:i,ease:a})},t.prototype.loopScaleY=function(t,e,i,o,a){void 0===e&&(e=.85),void 0===i&&(i=500),void 0!=o?t.scaleY=o:o=t.scaleY,this.tween(t,{loop:!0},{props:{scaleY:o*e},duration:i,ease:a},{props:{scaleY:o},duration:i,ease:a})},t.prototype.yoyoBtn=function(t,e,i,o){if(void 0===e&&(e=!0),void 0===i&&(i=1),!e||!(gConst.notEffectModel||window.MW_CONFIG&&"google"==MW_CONFIG.channel))switch(o||(o={}),o.orgS||(o.orgS={}),void 0==o.orgS.x?o.orgS.x=t.scaleX:t.scaleX=o.orgS.x,void 0==o.orgS.y?o.orgS.y=t.scaleY:t.scaleY=o.orgS.y,o.targetS||(o.targetS={}),o.diffS||(o.diffS={}),o.ease||(o.ease={}),i){case 2:gTween.drawing(t,o.targetS,o.duration,o.diffS,o.times,o.ease,o.wait);break;case 3:gTween.swing(t,o.diffR,o.duration,o.orgR,o.times,o.ease["in"],o.wait);break;default:gTween.loopScale(t,o.targetS.x,o.duration,o.orgS.x,o.ease["in"])}},t.prototype.loopAlpha=function(t,e,i,o,a){void 0===e&&(e=0),void 0===i&&(i=500),void 0!=o&&(t.alpha=o),o=t.alpha,this.tween(t,{loop:!0},{props:{alpha:o*e},duration:i,ease:a},{props:{alpha:o},duration:i,ease:a})},t.prototype.loopRotate=function(t,e,i,o,a){void 0===e&&(e=1),void 0===i&&(i=3600),void 0!=o&&(t.rotation=o),o=t.rotation,this.tween(t,{loop:!0},{props:{rotation:o+360*e},duration:i,ease:a})},t.prototype.swing=function(t,e,i,o,a,n,r,s){var h=this;void 0===e&&(e=5),void 0===i&&(i=150),void 0===r&&(r={duration:800}),void 0!=o?t.rotation=o:o=t.rotation;var c=function(l){if(!l&&0>=a)return void(s&&s.callback&&(p=s.callback).call.apply(p,[s.thisObj].concat(s.params)));egret.Tween.get(t,{loop:l}).to({rotation:o+e},i/2,n).to({rotation:o-2*e},i,n).to({rotation:o},i/2,n).to({rotation:o+e},i/2,n).to({rotation:o-2*e},i,n).to({rotation:o},i/2,n).wait(r.duration,r.passive).call(function(){l||(a--,c.call(h))});var p};!a||0>=a?c.call(this,!0):c.call(this)},t.prototype.drawing=function(t,e,i,o,a,n,r,s){var h=this;void 0===i&&(i=800),void 0===o&&(o={}),void 0===r&&(r={duration:0}),e||(e={}),void 0==e.x&&(e.x=.1),void 0==e.y&&(e.y=e.x),o||(o={}),void 0==o.x?o.x=t.scaleX:t.scaleX=o.x,void 0==o.y?o.y=t.scaleY:t.scaleY=o.y,n||(n={}),void 0==n["in"]&&(n["in"]=egret.Ease.quadOut),void 0==n.out&&(n.out=egret.Ease.quadIn);var c=function(l){if(!l&&0>=a)return void(s&&s.callback&&(p=s.callback).call.apply(p,[s.thisObj].concat(s.params)));egret.Tween.get(t,{loop:l}).to({scaleX:o.x+e.x},i/4,n["in"]).to({scaleX:o.x},i/4,n.out).to({scaleX:o.x-e.x},i/4,n["in"]).to({scaleX:o.x},i/4,n.out),egret.Tween.get(t,{loop:l}).to({scaleY:o.y-e.y},i/4,n["in"]).to({scaleY:o.y},i/4,n.out).to({scaleY:o.y+e.y},i/4,n["in"]).to({scaleY:o.y},i/4,n.out).wait(r.duration,r.passive).call(function(){l||(a--,c.call(h))});var p};!a||0>=a?c.call(this,!0):c.call(this)},t.prototype.tween=function(t,e){var i=this;void 0===e&&(e={});for(var o=[],a=2;a<arguments.length;a++)o[a-2]=arguments[a];this.rmTweens(t);var n=egret.Tween.get(t,e,e.pluginData,e.override);if(!o||o.length<=0)return this.rmTweens(t),n;var r=0,s=function(){var t=o[r];t.wait?n.to(t.props,t.duration,t.ease).wait(t.wait.duration,t.wait.passive).call(function(){if(t.call&&t.call.callback&&(e=t.call.callback).call.apply(e,[t.call.thisObj].concat(t.call.params)),r++,r>=o.length)return n;
s();var e},i):n.to(t.props,t.duration,t.ease).call(function(){if(t.call&&t.call.callback&&(e=t.call.callback).call.apply(e,[t.call.thisObj].concat(t.call.params)),r++,r>=o.length)return n;s();var e},i)};s()},t.prototype.rmTweens=function(t){t&&egret.Tween.removeTweens(t)},t}();t.TweenMgr=e,__reflect(e.prototype,"util.TweenMgr")}(util||(util={}));var item;!function(t){var e=function(t){function e(){var e=t.call(this)||this;return e.init(),e}return __extends(e,t),e.prototype.init=function(){this.initScaleX=this.scaleX,this.initScaleY=this.scaleY},e.prototype.id=function(t){return void 0==t?this._id:void(this._id=t)},e.prototype.passId=function(t){return void 0==t?this._passId:void(this._passId=t)},e.prototype.itemId=function(t){return void 0==t?this._itemId:void(this._itemId=t)},e.prototype.relateId=function(t){return void 0==t?this._relateId:void(this._relateId=t)},e.prototype.finish=function(t){return void 0==t?this._finish:void(this._finish=t)},e.prototype.guideDir=function(t){return void 0==t?this._guideDir:void(this._guideDir=t)},e.prototype.level=function(t){return void 0==t?this._level:void(this._level=t)},e.prototype.triggered=function(t){return void 0==t?this._triggered:void(this._triggered=t)},e}(eui.Group);t.ItemGroupBase=e,__reflect(e.prototype,"item.ItemGroupBase")}(item||(item={}));var item;!function(t){var e=function(t){function e(e){var i=t.call(this,e)||this;return i.init(),i}return __extends(e,t),e.prototype.init=function(){this.initScaleX=this.scaleX,this.initScaleY=this.scaleY,this.triggered(!1)},e.prototype.id=function(t){return void 0==t?this._id:void(this._id=t)},e.prototype.passId=function(t){return void 0==t?this._passId:void(this._passId=t)},e.prototype.itemId=function(t){return void 0==t?this._itemId:void(this._itemId=t)},e.prototype.relateId=function(t){return void 0==t?this._relateId:void(this._relateId=t)},e.prototype.finish=function(t){return void 0==t?this._finish:void(this._finish=t)},e.prototype.guideDir=function(t){return void 0==t?this._guideDir:void(this._guideDir=t)},e.prototype.level=function(t){return void 0==t?this._level:void(this._level=t)},e.prototype.triggered=function(t){return void 0==t?this._triggered:void(this._triggered=t)},e}(eui.Image);t.ItemImgBase=e,__reflect(e.prototype,"item.ItemImgBase")}(item||(item={}));var LoadingUI=function(t){function e(){var e=t.call(this)||this;return e.createView(),e}return __extends(e,t),e.prototype.createView=function(){this.textField=new egret.TextField,this.addChild(this.textField),this.textField.y=300,this.textField.width=480,this.textField.height=100,this.textField.textAlign="center"},e.prototype.setProgress=function(t,e){this.textField.text="Loading..."+t+"/"+e},e}(egret.Sprite);__reflect(LoadingUI.prototype,"LoadingUI");var Main=function(t){function e(){var e=null!==t&&t.apply(this,arguments)||this;return e.canshow=!1,e.isThemeLoadEnd=!1,e.isResourceLoadEnd=!1,e}return __extends(e,t),e.prototype.createChildren=function(){t.prototype.createChildren.call(this),window.app=this,this.createGame()},e.prototype.showGame=function(){this.showGameed||(this.showGameed=!0,this.canshow=!0,this.isThemeLoadEnd&&this.isResourceLoadEnd&&this.canshow&&this.startCreateScene())},e.prototype.createGame=function(){gSoundMgr.init();var t=new AssetAdapter;egret.registerImplementation("eui.IAssetAdapter",t),egret.registerImplementation("eui.IThemeAdapter",new ThemeAdapter),RES.addEventListener(RES.ResourceEvent.CONFIG_COMPLETE,this.onConfigComplete,this),RES.loadConfig("resource/default.res.json","resource/"),GameMgr.stage=this.stage;var e=egret.getOption("lan");e&&(GameMgr.lan=e)},e.prototype.onConfigComplete=function(t){RES.removeEventListener(RES.ResourceEvent.CONFIG_COMPLETE,this.onConfigComplete,this);var e=new eui.Theme("resource/default.thm.json",this.stage);e.addEventListener(eui.UIEvent.COMPLETE,this.onThemeLoadComplete,this),RES.addEventListener(RES.ResourceEvent.GROUP_COMPLETE,this.onResourceLoadComplete,this),RES.addEventListener(RES.ResourceEvent.GROUP_LOAD_ERROR,this.onResourceLoadError,this),RES.addEventListener(RES.ResourceEvent.ITEM_LOAD_ERROR,this.onItemLoadError,this),RES.loadGroup("preload")},e.prototype.onThemeLoadComplete=function(){this.isThemeLoadEnd=!0,this.createScene()},e.prototype.onResourceLoadComplete=function(t){"preload"==t.groupName&&(this.isResourceLoadEnd=!0,this.createScene(),RES.removeEventListener(RES.ResourceEvent.GROUP_COMPLETE,this.onResourceLoadComplete,this),RES.removeEventListener(RES.ResourceEvent.GROUP_LOAD_ERROR,this.onResourceLoadError,this),RES.removeEventListener(RES.ResourceEvent.ITEM_LOAD_ERROR,this.onItemLoadError,this))},e.prototype.createScene=function(){this.isThemeLoadEnd&&this.isResourceLoadEnd&&(Mapi.gameReady(),this.canshow&&this.startCreateScene())},e.prototype.onItemLoadError=function(t){console.warn("Url:"+t.resItem.url+" has failed to load")},e.prototype.onResourceLoadError=function(t){console.warn("Group:"+t.groupName+" has failed to load"),this.onResourceLoadComplete(t)},e.prototype.startCreateScene=function(){this.currentV||(this.currentV=new MainView,this.addChild(this.currentV))},e}(eui.UILayer);__reflect(Main.prototype,"Main");var GameMgr=function(){function t(){}return t.init=function(){gGuideMgr.init(),this.isEnd=!1,this.endType=null,this.auto=!1,this.passId=0,this.lv=1,this.stepId=1,this.clickCnt=0,this.avoiding=!1,this.currHouseId=0,this.gold=0,this.firstToMaxLv=!1,this.showCurtainFull=!1,this.isVip=!1},t.getConfig=function(t){var e=RES.getRes("gameConfig_json");if(e[t])return e[t];if(e.gameConfig&&e.gameConfig[t])return e.gameConfig[t];var i=e.gameDifficulty,o=e.gameConfig[i];return o&&o[t]?o[t]:null},Object.defineProperty(t,"getWinW",{get:function(){var t=window.adWidth||window.innerWidth;if(window.MW_CONFIG&&"vungle"==MW_CONFIG.channel){var e=document.body;t=e.offsetWidth}return t},enumerable:!0,configurable:!0}),Object.defineProperty(t,"getWinH",{get:function(){var t=window.adHeight||window.innerHeight;if(window.MW_CONFIG&&"vungle"==MW_CONFIG.channel){var e=document.body;t=e.offsetHeight}return t},enumerable:!0,configurable:!0}),t.replay=function(){this.isReplay=!0,this.replayCnt++,this.gameview.replay()},t.isShowReplay=function(){if(0==t.endType){var e=t.getConfig("playAgain");if(e&&(0>e||t.replayCnt<e))return!0}return!1},t.replayInstall=function(){if(0==t.endType){var e=t.getConfig("playAgain");return e&&(0>e||t.replayCnt<e)?!1:!0}return!1},Object.defineProperty(t,"isEnd",{get:function(){return this._isEnd},set:function(t){this._isEnd=t},enumerable:!0,configurable:!0}),Object.defineProperty(t,"endType",{get:function(){return this._endType},set:function(t){this._endType=t},enumerable:!0,configurable:!0}),Object.defineProperty(t,"auto",{get:function(){return this._auto},set:function(t){this._auto=t},enumerable:!0,configurable:!0}),Object.defineProperty(t,"lv",{get:function(){return this._lv},set:function(t){this._lv=t},enumerable:!0,configurable:!0}),Object.defineProperty(t,"firstToMaxLv",{get:function(){return this._firstToMaxLv},set:function(t){this._firstToMaxLv=t},enumerable:!0,configurable:!0}),Object.defineProperty(t,"showCurtainFull",{get:function(){return this._showCurtainFull},set:function(t){this._showCurtainFull=t},enumerable:!0,configurable:!0}),Object.defineProperty(t,"isVip",{get:function(){return this._isVip},set:function(t){this._isVip=t},enumerable:!0,configurable:!0}),Object.defineProperty(t,"gold",{get:function(){return this._gold},set:function(t){Math.max(t,0),Math.min(t,this.maxGold),this._gold=t},enumerable:!0,configurable:!0}),Object.defineProperty(t,"passId",{get:function(){return this._passId},set:function(t){this._passId=t},enumerable:!0,configurable:!0}),t.getMaxPeople=function(){return 5+3*this.currHouseId},t.getMaxCar=function(){return 10*(this.currHouseId+1)},t.getPosCar=function(t){var e=this.gameview;if(e&&t&&!(t.length<1))return e["posCar_"+t[0]+"_"+t[1]]},Object.defineProperty(t,"stepId",{get:function(){return this._stepId},set:function(t){this._stepId=t},enumerable:!0,configurable:!0}),Object.defineProperty(t,"avoiding",{get:function(){return this._avoiding},set:function(t){this._avoiding=t},enumerable:!0,configurable:!0}),Object.defineProperty(t,"clickCnt",{get:function(){return this._clickCnt},set:function(t){this._clickCnt=t},enumerable:!0,configurable:!0}),Object.defineProperty(t,"currHouseId",{get:function(){return this._currHourseId},set:function(t){t>this.maxHourseId||(this._currHourseId=t)},enumerable:!0,configurable:!0}),t}();GameMgr.screenType=null,GameMgr.mobileType=null,GameMgr.lan="us",GameMgr.isReplay=!1,GameMgr.replayCnt=0,GameMgr._isEnd=!1,GameMgr._auto=!1,GameMgr.maxPassId=1,GameMgr.screenMaxRow=7,GameMgr.screenMaxCol=7,GameMgr._passId=0,GameMgr.maxLv=3,GameMgr._lv=1,GameMgr._stepId=1,GameMgr._clickCnt=0,GameMgr.maxHourseId=3,GameMgr.maxCanBuildId=2,GameMgr._currHourseId=0,GameMgr._gold=0,GameMgr.maxGold=999999999,GameMgr._firstToMaxLv=!1,GameMgr._showCurtainFull=!1,GameMgr._isVip=!1,GameMgr.houseCfg={0:{id:0,flagId:1},1:{id:1,flagId:0},2:{id:2,flagId:0},3:{id:3,flagId:0},4:{id:4,flagId:2},5:{id:5,flagId:2}},__reflect(GameMgr.prototype,"GameMgr");var com;!function(t){var e=function(t){function e(){var e=t.call(this)||this;return e.skinName=skins.ComEmpty,e}return __extends(e,t),e.prototype.init=function(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e]},e.prototype.load=function(){},e.prototype.start=function(){},e.prototype.stop=function(){},e.prototype.update=function(){},e.prototype.addEvent=function(){},e.prototype.removeEvent=function(){},e.prototype.resizeView=function(t){if(1==GameMgr.screenType)switch(GameMgr.mobileType){case 1:break;case 2:break;case 3:}else switch(GameMgr.mobileType){case 1:break;case 2:break;case 3:}},e.prototype.rotateView=function(t){1==GameMgr.screenType},e}(t.ComFile);t.ComEmpty=e,__reflect(e.prototype,"com.ComEmpty")}(com||(com={}));var Mapi=function(){function t(){}return t.sendAction=function(t,e){void 0===e&&(e=!0),void 0==e&&(e=!0),e&&this.actionedLog[t]||(this.actionedLog[t]=!0,sendAction(t))},t.gameReady=function(){this.gameReadyed||(this.gameReadyed=!0,ready())},t.install=function(){gameInstall()},t.gameEnd=function(){this.gameEnded||(this.gameEnded=!0,end())},t.gameRetry=function(){this.gameEnded=!1,retry()},t}();Mapi.actionedLog={},__reflect(Mapi.prototype,"Mapi");var scene;!function(t){var e=function(t){function e(){var e=t.call(this)||this;return e.isLoadRes=null,e.isFirstOpen=!0,e.firstTouch=!0,e.gridDic={},e.skillProgress=0,e.selectionItems=gConst.boardItems,e.currentHousePoint=1,e.goldSpace=10,e.isOpenChat=!0,e.particleInterval=6e3,e.skinName=skins.GameScene,e.camera=new util.CameraMgr(e.conBg),e}return __extends(e,t),e.prototype.open=function(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];var i=GameMgr.mainView;this.init.apply(this,t),this.isFirstOpen&&i.initResizeView(this.isFirstOpen),this.createChildren2(),this.isLoadRes||(this.isLoadRes=!0,this.load()),i.resizeView(void 0,this.isFirstOpen),GameMgr.stage.removeEventListener(egret.Event.RESIZE,i.resizeView,i),GameMgr.stage.addEventListener(egret.Event.RESIZE,i.resizeView,i),this.start(),this.update(),this.removeEventListener(egret.Event.ENTER_FRAME,this.update,this),this.addEventListener(egret.Event.ENTER_FRAME,this.update,this),this.removeEvent(),this.addEvent(),this.isFirstOpen&&(this.isFirstOpen=!1)},e.prototype.end=function(){var t=GameMgr.mainView;this.isLoadRes=!1,GameMgr.stage.removeEventListener(egret.Event.RESIZE,t.resizeView,t),this.removeEventListener(egret.Event.ENTER_FRAME,this.update,this),this.removeEvent(),gComMgr.rmEvent(this),this.stop()},e.prototype.init=function(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e]},e.prototype.load=function(){},e.prototype.start=function(){this.openFirst(),this.autoEnd(),this.updateSelectionItems()},e.prototype.stop=function(){},e.prototype.update=function(){},e.prototype.addEvent=function(){this.pboard_con.addEventListener(egret.TouchEvent.TOUCH_TAP,this.checkSelect,this)},e.prototype.removeEvent=function(){this.pboard_con.removeEventListener(egret.TouchEvent.TOUCH_TAP,this.checkSelect,this)},e.prototype.gameEnd=function(){Mapi.gameEnd(),this.UiFirst.updateDir({horDir:gConst.direction.RIGHT_TOP,verDir:gConst.direction.CENTER_TOP},{horDir:gConst.direction.RIGHT_TOP,verDir:gConst.direction.CENTER_BOTTOM}),this.UiFirst.gameEnd()},e.prototype.createChildren2=function(){},e.prototype.resizeView=function(){this.dispatchEventWith(gConst.eventType.RESIZE_VIEW);var t,e=(gConst.mobileByScale[GameMgr.screenType][GameMgr.mobileType],this.conBg),i=this.con;if(1==GameMgr.screenType)switch(t=100,this.hLayout||(this.hLayout=new eui.HorizontalLayout,this.hLayout.gap=10),this.pboard_con.layout=this.hLayout,this.con_guide.y=.6*this.height,this.con_guide.horizontalCenter="0",i.y=.6*this.height,i.horizontalCenter="0",GameMgr.mobileType){case 1:break;case 2:break;case 3:}else switch(t=-20,this.vLayout||(this.vLayout=new eui.VerticalLayout,this.vLayout.gap=10),this.pboard_con.layout=this.vLayout,this.con_guide.y=.7*this.height,this.con_guide.horizontalCenter="0",i.y=0/0,i.horizontalCenter=0/0,i.right=30,GameMgr.mobileType){case 1:break;case 2:break;case 3:}var o=this["housepoint_"+this.currentHousePoint],a=Math.max(this.width/2/this.housepoint_1.x,this.height/2/this.housepoint_1.y,1);e.scaleX=e.scaleY=Math.max(this.width/e.width,this.height/e.height)*a,this.updateCamera(e,{x:o.x,y:o.y+t},a,!1)},e.prototype.rotateView=function(){this.dispatchEventWith(gConst.eventType.ROTATE_VIEW),1==GameMgr.screenType},e.prototype.replay=function(){this.destroy(),GameMgr.init(),GameMgr.gameview=new scene.GameScene,GameMgr.gameview.open(),this.parent&&(this.parent.addChild(GameMgr.gameview),this.parent.removeChild(this)),Mapi.gameRetry()},e.prototype.destroy=function(){this.UiFirst&&this.UiFirst.destroy(),this.removeEvent()},e.prototype.clickInstall=function(t){t&&t.stopPropagation(),Mapi.install()},e.prototype.autoEnd=function(){var t=GameMgr.getConfig("autoEndTime");void 0!=t&&t>0&&(egret.clearTimeout(this.endDelay),this.endDelay=egret.setTimeout(this.openEnd,this,1e3*t))},e.prototype.endToNoOperation=function(){if(!GameMgr.isEnd&&gGuideMgr.lastGuideFinish()){var t=gConst.endToNoOperationTimer;void 0!=t&&t>0&&(egret.clearTimeout(this.endToNoOperationDelay),this.endToNoOperationDelay=egret.setTimeout(this.openEndFail,this,t))}},e.prototype.initBg=function(){this.con,this.conBg},e.prototype.updateSelectionItems=function(){var t=this;this.pboard_con.removeChildren(),this.selectionItems.forEach(function(e,i){if(3>i){var o=new eui.Image,a=new eui.Group;o.name=e.name,o.source="pboard_"+e.id+"_png",a.addChild(o),gComMgr.setItemAnchor(o),t.pboard_con.addChild(a),o.visible=!1,gTween.toBigShow(o,500,1,1,egret.Ease.backOut)}}),this.pboard_con.addEventListener(egret.TouchEvent.TOUCH_TAP,this.checkSelect,this),gTween.toTopShow(this.con_guide,300,30,void 0,1),this.showGuide()},e.prototype.findBoard=function(t){for(var e=0;e<this.selectionItems.length;e++)this.selectionItems[e].name===t&&this.selectionItems.splice(e,1)},e.prototype.checkSelect=function(t){var e=this;if(t.type===egret.TouchEvent.TOUCH_TAP){if(!t.target.name)return;this.pboard_con.removeEventListener(egret.TouchEvent.TOUCH_TAP,this.checkSelect,this);var i=t.target.name;this.findBoard(i),gSoundMgr.playEff("smselect"),this.hideGuide(),gTween.toBottomHide(this.con_guide,300,30,void 0,1,egret.Ease.backOut),this.pboard_con.$children.forEach(function(t){var o=t.$children[0];o.name===i?(gSoundMgr.playEff("smbuilding"),gTween.toScale(o,.8,200,1,void 0,void 0,{callback:function(){e.buildHouse(i),gTween.toScale(o,1,200,.8,void 0,{duration:200},{callback:function(){o.alpha=1,gTween.fadeOut(o,300,1,void 0,void 0,{callback:function(){o.alpha=1,o.visible=!1,egret.setTimeout(function(){e.currentHousePoint<3?(e.currentHousePoint++,e.moveToNextHouse()):e.openEnd()},e,1200)}})}})}})):gTween.fadeOut(o,300,1)})}},e.prototype.moveToNextHouse=function(){var t=this,e=this["housepoint_"+this.currentHousePoint];this.camera.upCamera(!0,{x:e.x,y:e.y},void 0,function(){t.updateSelectionItems()})},e.prototype.buildHouse=function(t){var e=this["housepoint_"+this.currentHousePoint];gTween.fadeOut(e,300);var i=this["housepoint_"+this.currentHousePoint+"_con"],o=new com.ComBones;o.setData(i,t),o.play("newAnimation")},e.prototype.updateCamera=function(t,e,i,o){void 0===o&&(o=!1),this.camera||(this.camera=new util.CameraMgr(t)),this.camera.upCamera(o,e,i)},e.prototype.gameStart=function(){this.gameStared=!0,this.openStarted=!1,GameMgr.firstToMaxLv&&(GameMgr.auto=!0);var t=GameMgr.currHouseId;t>GameMgr.maxCanBuildId?(egret.setTimeout(this.openTran,this,1e3),this.startPartilcle(Math.max(t-1,0))):(this.showGuide(),0!=t&&(1==t&&(GameMgr.gold+=gConst.firstAddGold),this.startPartilcle(Math.max(t-1,0))))},e.prototype.hasUiFirstLogo=function(){return this.UiFirst&&this.UiFirst.parent&&this.UiFirst.conLogo&&this.UiFirst.conLogo.parent},e.prototype.resizeUiFirst=function(t){},e.prototype.openFirst=function(){this.UiFirst=gUiMgr.create(ui.UiFirst),this.UiFirst.addEventListener(gConst.eventType.RESIZE_VIEW,this.resizeUiFirst,this),this.UiFirst.open({horDir:gConst.direction.LEFT_TOP,verDir:gConst.direction.CENTER_TOP},{horDir:gConst.direction.CENTER_BOTTOM,verDir:gConst.direction.CENTER_BOTTOM})},e.prototype.closeFirst=function(){this.UiFirst&&(this.UiFirst.removeEventListener(gConst.eventType.RESIZE_VIEW,this.resizeUiFirst,this),this.UiFirst.close())},e.prototype.openStart=function(t){if(void 0===t&&(t=1),!this.openStarted&&(this.openStarted=!0,this.hideGuide(),3!=t&&0==GameMgr.screenType)){var e=this.UiFirst,i=void 0;e&&(i=e.conLogo),i&&(i.visible=!1)}},e.prototype.closeStart=function(){},e.prototype.openTran=function(t){GameMgr.isEnd},e.prototype.closeTran=function(){},e.prototype.openChat=function(){GameMgr.isEnd},e.prototype.closeChat=function(){egret.clearTimeout(this.openChatDelay),this.isOpenChat=!1},e.prototype.openCongrats=function(){gSoundMgr.playEff("sm_success")},e.prototype.closeCongrats=function(){},e.prototype.playTranEnd=function(t){var e=this;this.playTranEnded||(this.playTranEnded=!0,GameMgr.isVip=!0,this.stopPartilcle(),egret.setTimeout(function(){e.openTranEnd()},this,gConst.victoryInEndTimer))},e.prototype.openTranEnd=function(){GameMgr.isEnd||this.openEnd()},e.prototype.closeTranEnd=function(){},e.prototype.openEnd=function(t){void 0===t&&(t=!0),egret.clearTimeout(this.endDelay),egret.clearTimeout(this.endToNoOperationDelay),GameMgr.isEnd||(GameMgr.isEnd=!0,this.hideGuide(),this.removeEvent(),this.UiFirst.close(),this.UiEnd=gUiMgr.create(ui.UiEnd),this.UiEnd.hide(),this.UiEnd.open(),gTween.fadeIn(this.UiEnd,300,1),gTween.fadeOut(this.conBg,300,1),gTween.fadeOut(this.con,300,1),Mapi.gameEnd(),t&&this.showEnd())},e.prototype.showEnd=function(){this.gameEnd(),this.showEndOther()},e.prototype.showEndOther=function(){this.UiEnd&&this.UiEnd.showOther()},e.prototype.closeEnd=function(){this.UiEnd&&this.UiEnd.close()},e.prototype.openEndFail=function(){this.openEnd()},e.prototype.showEndFail=function(){this.closeChat(),this.UiFirst.updateDir({horDir:gConst.direction.RIGHT_TOP,verDir:gConst.direction.CENTER_TOP},{horDir:gConst.direction.RIGHT_TOP,verDir:gConst.direction.CENTER_TOP}),this.showEndFailOther()},e.prototype.showEndFailOther=function(){},e.prototype.closeEndFail=function(){},e.prototype.retObjPos=function(t,e){if(t&&e){var i=gConst.mobileByScale[GameMgr.screenType][GameMgr.mobileType],o=gComMgr.toGlobal(t),a=o.x+(t.width/2-t.anchorOffsetX)*t.scaleX*i,n=o.y+(t.height/2-t.anchorOffsetY)*t.scaleY*i;return o=gComMgr.toLocal(e,a,n,o)}},e.prototype.showGuide=function(){this.showGuided||(this.showGuided=!0,this.guide||(this.guide=new com.ComGuide,this.guide.open(),this.guide.setData(100,{target1:void 0,moveTime:150,isReturn:!0},GameMgr.gameview,{pressT:200,liftT:300,waitT:100,direction:gConst.direction.RIGHT_BOTTOM,offR:15})),this.guide.updateData({targetArg:{target1:this.pboard_con.$children[0],target2:this.pboard_con.$children[1],target3:this.pboard_con.$children[2]}}),this.guide.play())},e.prototype.hideGuide=function(){this.firstTouch=!1,this.guide&&this.showGuided&&(this.showGuided=!1,this.guide.over())},e.prototype.startPartilcle=function(t){this.particleByHouseId=t;var e=GameMgr.isVip?gConst.vipPartilcleTimeScale:1;this.updateParticles(),egret.clearInterval(this.particleDelay),this.particleDelay=egret.setInterval(this.updateParticles,this,this.particleInterval/e)},e.prototype.stopPartilcle=function(){this.stopPartilcled=!0,egret.clearInterval(this.particleDelay)},e.prototype.updateParticles=function(){if(this.startPartilcled=!0,!this.stopPartilcled){var t=this.particleByHouseId;if(t!=GameMgr.maxHourseId){var e="make",i=1e3,o=(this.particleId0,[]);switch(t){case 0:o=["particle1_ui"];break;case 1:o=["particle2_ui","particle3_ui"];break;case 2:o=["particle4_ui","particle5_ui","particle6_ui"]}var a=RES.getRes(e+"_json"),n=30;a&&(void 0!=a.duration&&(i=a.duration),void 0!=a.maxParticles&&(n=a.maxParticles))}}},e}(eui.Component);t.GameScene=e,__reflect(e.prototype,"scene.GameScene")}(scene||(scene={}));var ThemeAdapter=function(){function t(){}return t.prototype.getTheme=function(t,e,i,o){function a(t){e.call(o,t)}function n(e){e.resItem.url==t&&(RES.removeEventListener(RES.ResourceEvent.ITEM_LOAD_ERROR,n,null),i.call(o))}RES.addEventListener(RES.ResourceEvent.ITEM_LOAD_ERROR,n,null),RES.getResByUrl(t,a,this,RES.ResourceItem.TYPE_TEXT)},t}();__reflect(ThemeAdapter.prototype,"ThemeAdapter",["eui.IThemeAdapter"]);var ui;!function(t){var e=function(t){function e(){var e=t.call(this)||this;return e.skinName=skins.UiEmpty,e}return __extends(e,t),e.prototype.init=function(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e]},e.prototype.load=function(){},e.prototype.start=function(){},e.prototype.stop=function(){},e.prototype.update=function(){},e.prototype.addEvent=function(){},e.prototype.removeEvent=function(){},e.prototype.resizeView=function(){if(1==this.screenType)switch(this.mobileType){case 1:break;case 2:break;case 3:}else switch(this.mobileType){case 1:break;case 2:break;case 3:}},e.prototype.rotateView=function(){1==this.screenType},e}(t.UiFile);t.UiEmpty=e,__reflect(e.prototype,"ui.UiEmpty")}(ui||(ui={}));var com;!function(t){var e=function(){function t(){}return t.prototype.setData=function(t,e,i,o,a){void 0===o&&(o="Armature"),this.parent=t,this.resName=e,i&&(this.exitAim={},"boolean"==typeof i&&(i={}),this.exitAim.aimType=void 0!=i.aimType?i.aimType:0,this.exitAim.wait=void 0!=i.wait?i.wait:0,this.exitAim.time=void 0!=i.time?i.time:300),this.armatureName=o,this.dragonBonesName=a},t.prototype.play=function(t,e,i){return void 0===t&&(t="Armature"),void 0===e&&(e=1),this.isComRemve=i,this.init()?(this.armatureDisplay.removeEvent(dragonBones.EgretEvent.COMPLETE,this.playComplete,this),this.armatureDisplay.addEvent(dragonBones.EgretEvent.COMPLETE,this.playComplete,this),this.armatureDisplay.animation.play(t,e)):void 0},t.prototype.stop=function(t){this.init()&&this.armatureDisplay.animation.stop(t)},t.prototype.gotoAndStop=function(t,e){this.init()&&this.armatureDisplay.animation.gotoAndStop(t,e)},t.prototype.gotoAndStopByTime=function(t,e){return this.init()?this.armatureDisplay.animation.gotoAndStopByTime(t,e):void 0},t.prototype.setScale=function(t,e){if(void 0!=t){if(t=t||0,e=e||t,!this.armatureDisplay)return void(this.waitScale={x:t,y:e});this.armatureDisplay.scaleX=t,this.armatureDisplay.scaleY=e,this.waitScale=null}},t.prototype.setPos=function(t){t&&(t.x=t.x||0,t.y=t.y||0,this.waitPos={x:t.x,y:t.y},this.armatureDisplay&&(this.armatureDisplay.x=t.x,this.armatureDisplay.y=t.y))},t.prototype.setInitPos=function(t){t&&(t.x=t.x||0,t.y=t.y||0,this.initPos={x:t.x,y:t.y})},t.prototype.setDiffPos=function(t){t&&(t.hor.x=t.hor.x||0,t.hor.y=t.hor.y||0,t.ver.x=t.ver.x||0,t.ver.y=t.ver.y||0,this.diffPos=t)},t.prototype.setIndex=function(t){return void 0!=t?(t=t||0,this.parent&&this.armatureDisplay?void this.parent.setChildIndex(this.armatureDisplay,t):void(this.waitIndex=t)):void 0},t.prototype.setMask=function(t){this.armatureDisplay&&(this.armatureDisplay.mask=t)},t.prototype.setAlpha=function(t){if(void 0!=t){if(!this.parent||!this.armatureDisplay)return void(this.orgAlpha=t);this.orgAlpha=t,this.armatureDisplay.alpha=t}},t.prototype.show=function(){this.armatureDisplay&&(this.armatureDisplay.visible=!0)},t.prototype.hide=function(){this.armatureDisplay&&(this.armatureDisplay.visible=!1)},t.prototype.playComplete=function(){this.armatureDisplay.removeEvent(dragonBones.EgretEvent.COMPLETE,this.playComplete,this),this.exitAim?this.playOutAim():(this.armatureDisplay.dispatchEventWith(egret.Event.COMPLETE),this.isComRemve&&this.remove())},t.prototype.playOutAim=function(){var t,e=this;switch(this.exitAim.aimType){case 0:t={alpha:0};break;case 1:t={scaleX:5,scaleY:5,alpha:0};break;case 2:t={scaleX:0,scaleY:0,alpha:0}}egret.setTimeout(function(){gTween.tween(e.armatureDisplay,void 0,{props:t,duration:e.exitAim.time,call:{callback:function(){e.armatureDisplay.dispatchEventWith(egret.Event.COMPLETE),e.isComRemve&&e.remove()},thisObj:e}})},this,this.exitAim.wait)},t.prototype.remove=function(){gComMgr.rmObj(this.armatureDisplay)},t.prototype.create=function(){if(this.resName){var t=RES.getRes(this.resName+"_ske_json"),e=RES.getRes(this.resName+"_tex_json"),i=RES.getRes(this.resName+"_tex_png");this.factory=new dragonBones.EgretFactory,this.factory.autoSearch=!0,this.factory.addDragonBonesData(this.factory.parseDragonBonesData(t)),this.factory.addTextureAtlasData(this.factory.parseTextureAtlasData(e,i)),this.armature=this.factory.buildArmature(this.armatureName),this.armatureDisplay=this.factory.buildArmatureDisplay(this.armatureName)}},t.prototype.init=function(){return(this.armatureDisplay||(this.create(),this.armatureDisplay))&&this.parent?(this.parent.addChild(this.armatureDisplay),this.waitPos?this.setPos(this.waitPos):this.setPos({x:this.parent.width/2,y:this.parent.height/2}),this.show(),!0):void 0},t.prototype.replaceDisplay=function(t,e,i,o,a,n,r){this.factory.parseDragonBonesData(RES.getRes(t+"_ske_json")),this.factory.parseTextureAtlasData(RES.getRes(t+"_tex_json"),RES.getRes(t+"_tex_png"));var s=this.armatureDisplay.armature.getSlot(n);this.factory.replaceSlotDisplay(e,i,o,a,s,r)},t.prototype.dispose=function(){var t=this.armature;dragonBones.WorldClock.clock.remove(t),this.remove(),t.dispose()},t.prototype.guideDir=function(t){return void 0==t?this._guideDir:void(this._guideDir=t)},t.prototype.screenType=function(t){return void 0==t?this._screenType:void(this._screenType=t)},t.prototype.getWidth=function(){return this.armatureDisplay?this.armatureDisplay.width:void 0},t.prototype.getHeight=function(){return this.armatureDisplay?this.armatureDisplay.height:void 0},t}();t.ComBones=e,__reflect(e.prototype,"com.ComBones")}(com||(com={}));var com;!function(t){var e=function(t){function e(){var e=t.call(this)||this;return e.interval=40,e.playTime=-1,e.isplay=!1,e.backToFirst=!0,e.isReverse=!1,e.skinName=skins.ComEmpty,e}return __extends(e,t),e.prototype.init=function(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e]},e.prototype.load=function(){this.bm=new eui.Image,this.addChild(this.bm)},e.prototype.start=function(){},e.prototype.stop=function(){},e.prototype.update=function(){},e.prototype.addEvent=function(){},e.prototype.removeEvent=function(){},e.prototype.resizeView=function(t){if(1==GameMgr.screenType)switch(GameMgr.mobileType){case 1:break;case 2:break;case 3:}else switch(GameMgr.mobileType){case 1:break;case 2:break;case 3:}},e.prototype.rotateView=function(t){1==GameMgr.screenType},e.prototype.setData=function(t,e,i){void 0===e&&(e=0),void 0===i&&(i=0),this.list=t,this.bm.anchorOffsetX=e,this.bm.anchorOffsetY=i},e.prototype.frameCnt=function(){return this.currentData.order&&this.currentData.order.length>0?this.currentData.order.length:this.currentData.frameCnt},e.prototype.getCurIndex=function(){return this.frameIndex},e.prototype.getFrameIndexCnt=function(){return this.currentData.order&&this.currentData.order.length>0?this.currentData.order[this.frameIndex-1]:this.frameIndex+this.currentData.firstIndex-1},e.prototype.getFrameIndexName=function(){var t=this.getFrameIndexCnt();return gMath.switchNum(t,!1,this.currentData.minBit)},e.prototype.picName=function(){var t=this.currentData.frameName.indexOf("{1}");return t>-1?this.currentData.frameName.replace("{1}",this.getFrameIndexName()):this.currentData.frameName},e.prototype.pixelHitTest=function(t){this.bm.pixelHitTest=t},e.prototype.gotoAndStop=function(t,e){void 0===e&&(e=1),this.isplay&&(this.isplay=!1,this.removeEventListener(egret.Event.ENTER_FRAME,this._update,this)),this.currentFrameName=t,this.currentData=this.getMcDataByAction(t),this.frameIndex=e,this.currentData&&(this.bm.source=this.picName())},e.prototype.dispose=function(){this.pause(),this.parent&&this.parent.removeChild(this),this.removeChildren(),this.list=null},e.prototype.gotoAndReverse=function(t,e){void 0===e&&(e=-1),this.isReverse=!0,this.currentFrameName=t,this.playTime=e,this.currentData=this.getMcDataByAction(t),this.currentData&&(this.nextUpdateTime=egret.getTimer()+this.interval,this.currentData.direct=-1,this.frameIndex=this.frameCnt(),this.bm.source=this.picName(),this.isplay||(this.isplay=!0,this.addEventListener(egret.Event.ENTER_FRAME,this._update,this)))},e.prototype.gotoAndPlay=function(t,e,i,o){void 0===e&&(e=-1),void 0===i&&(i=1),void 0===o&&(o=!0),this.isReverse=!1,this.currentFrameName=t,this.playTime=e,this.backToFirst=o,this.currentData=this.getMcDataByAction(t),this.currentData&&(this.nextUpdateTime=egret.getTimer()+this.interval,this.currentData.direct=1,this.frameIndex=i,this.bm.source=this.picName(),this.isplay||(this.isplay=!0,this.addEventListener(egret.Event.ENTER_FRAME,this._update,this)))},e.prototype._update=function(t){egret.getTimer()>=this.nextUpdateTime&&this.updateFrame()},e.prototype.updateFrame=function(){this.nextUpdateTime=egret.getTimer()+this.interval,this.dispatchEventWith(gConst.eventType.ONE_STEP_COMPLETE),this.isReverse&&this.frameIndex<1&&(this.pause(),this.dispatchEventWith(egret.Event.COMPLETE)),this.bm.source=this.picName(),this.frameIndex+=this.currentData.direct,this.frameIndex>this.frameCnt()?(1==this.currentData.direct&&this.currentData.backplay?(this.frameIndex-=2,this.currentData.direct=-1):this.backToFirst?this.frameIndex=1:this.frameIndex--,-1==this.playTime?this.dispatchEventWith(gConst.eventType.ONCE_COMPLETE):(!this.currentData.backplay||this.currentData.backplay&&this.isReverse)&&(this.playTime--,this.dispatchEventWith(gConst.eventType.ONCE_COMPLETE),0==this.playTime&&(this.pause(),this.dispatchEventWith(egret.Event.COMPLETE)))):this.frameIndex<1&&(-1==this.currentData.direct&&this.currentData.backplay&&(this.frameIndex+=2,this.currentData.direct=1),this.currentData.backplay&&!this.isReverse&&(this.playTime--,this.dispatchEventWith(gConst.eventType.ONCE_COMPLETE),0==this.playTime&&(this.pause(),this.dispatchEventWith(egret.Event.COMPLETE))))},e.prototype.pause=function(){this.isplay&&(this.isplay=!1,this.removeEventListener(egret.Event.ENTER_FRAME,this._update,this))},e.prototype.getMcDataByAction=function(t){for(var e=0;e<this.list.length;e++)if(this.list[e].fName==t)return this.list[e];return null},e}(t.ComFileBase);t.ComMovieClip=e,__reflect(e.prototype,"com.ComMovieClip")}(com||(com={}));var ui;!function(t){var e=function(t){function e(){var e=t.call(this)||this;return e.skinName=skins.UiEnd,e}return __extends(e,t),e.prototype.init=function(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e]},e.prototype.load=function(){this.bg_mc.open(),this.bg_mc.setData([new data.McData("ending",2,"ending_{1}_png",{backplay:!0})]),this.bg_mc.interval=400},e.prototype.start=function(){var t=this;this.playMC(),gTween.yoyoBtn(this.btn),this.logo.visible=!1,this.btnCon.visible=!1,egret.setTimeout(function(){gTween.toBottomShow(t.logo,800,300,void 0,1,egret.Ease.elasticOut),gTween.toTopShow(t.btnCon,800,300,void 0,1,egret.Ease.elasticOut)
},this,300)},e.prototype.stop=function(){},e.prototype.update=function(){},e.prototype.addEvent=function(){gConst.globalClick&&this.addEventListener(egret.TouchEvent.TOUCH_TAP,this.clickInstall,this)},e.prototype.removeEvent=function(){gConst.globalClick&&this.removeEventListener(egret.TouchEvent.TOUCH_TAP,this.clickInstall,this)},e.prototype.resizeView=function(){var t=gConst.mobileByScale[GameMgr.screenType][GameMgr.mobileType];if(this.bgCon.scaleX=this.bgCon.scaleY=Math.max(this.width/this.bg.width,this.height/this.bg.height),1==this.screenType)switch(this.logo.y=.12*this.height,this.btnCon.y=this.logo.y+this.logo.height+.1*this.height,this.btnCon.bottom=0/0,this.mobileType){case 1:break;case 2:break;case 3:}else switch(this.logo.y=20,this.btnCon.y=0/0,this.btnCon.bottom=20,this.mobileType){case 1:break;case 2:break;case 3:}this.logo.scaleX=this.logo.scaleY=this.btnCon.scaleX=this.btnCon.scaleY=t},e.prototype.rotateView=function(){1==this.screenType},e.prototype.playMC=function(){this.bg_mc.gotoAndPlay("ending")},e.prototype.toTopShow=function(t,e,i){for(var o=[],a=3;a<arguments.length;a++)o[a-3]=arguments[a];gTween.toTopShow(t,800,void 0,void 0,1,egret.Ease.elasticOut,void 0,{callback:function(){e&&e.call.apply(e,[i].concat(o))}})},e.prototype.toBottomShow=function(t,e,i){for(var o=[],a=3;a<arguments.length;a++)o[a-3]=arguments[a];gTween.toBottomShow(t,800,void 0,void 0,1,egret.Ease.elasticOut,void 0,{callback:function(){e&&e.call.apply(e,[i].concat(o))}})},e.prototype.show=function(){},e.prototype.showOther=function(){this.gameEnd()},e.prototype.hide=function(){},e}(t.UiFile);t.UiEnd=e,__reflect(e.prototype,"ui.UiEnd")}(ui||(ui={}));var ui;!function(t){var e=function(t){function e(){var e=t.call(this)||this;return e.skinName=skins.UiFirst,e}return __extends(e,t),e.prototype.init=function(t,e,i){void 0===i&&(i=!1),void 0!=t&&(this.logoDir=t),void 0!=e&&(this.btnDir=e),this.initLogoS=this.logo.scaleX,this.initBtnS=this.gBtn.scaleX,this.initConLogoS=this.conLogo.scaleX,this.initConBtnS=this.conBtn.scaleX,this.yoyoBtn(i)},e.prototype.load=function(){this.touchEnabled=!1;var t=this.conLogo,e=this.conBtn;gComMgr.setItemAnchor(this.logo),gComMgr.setItemAnchor(this.gLogo),gComMgr.setItemAnchor(this.btn),gComMgr.setItemAnchor(this.gBtn);var i=this.logoLoc,o=this.btnLoc;i||(i=this.logoLoc=new data.FirstData,i.scale=t.scaleX),o||(o=this.btnLoc=new data.FirstData,o.scale=e.scaleX),this.updateLogoLoc(),this.updateBtnLoc()},e.prototype.start=function(){gTween.yoyoBtn(this.conBtn)},e.prototype.stop=function(){},e.prototype.update=function(){},e.prototype.addEvent=function(){this.gBtn.addEventListener(egret.TouchEvent.TOUCH_TAP,this.clickArticle,this),this.gLogo.addEventListener(egret.TouchEvent.TOUCH_TAP,this.clickArticle,this)},e.prototype.removeEvent=function(){this.gBtn.removeEventListener(egret.TouchEvent.TOUCH_TAP,this.clickArticle,this),this.gLogo.removeEventListener(egret.TouchEvent.TOUCH_TAP,this.clickArticle,this)},e.prototype.resizeView=function(){var t=gConst.mobileByScale[this.screenType][this.mobileType],e=this.conLogo,i=this.conBtn,o=this.logoLoc,a=this.btnLoc;if(a.scale=this.initConBtnS*t,1==this.screenType){switch(o.scale=this.initConLogoS*t,this._updateLogoVer(),this._updateBtnVer(),this.mobileType){case 1:break;case 2:break;case 3:}e.x=o.vertical.x,e.y=o.vertical.y,i.x=a.vertical.x,i.y=a.vertical.y}else{switch(o.scale=this.initConLogoS*t,this._updateLogoHor(),this._updateBtnHor(),this.mobileType){case 1:break;case 2:break;case 3:}e.x=o.horizontal.x,e.y=o.horizontal.y,i.x=a.horizontal.x,i.y=a.horizontal.y}e.scaleX=e.scaleY=o.scale,i.scaleX=i.scaleY=a.scale,this.dispatchEventWith(gConst.eventType.RESIZE_VIEW)},e.prototype.rotateView=function(){this.conLogo,this.conBtn;1==this.screenType},e.prototype.__updateLogoHorRatio=function(){var t=this,e=this.conLogo,i=this.conBtn,o=this.logoLoc,a=this.btnLoc,n=function(){o.horizontal.x=Math.floor(t.width*o.horRatio/100)},r=function(){o.horizontal.x=Math.floor(t.width/2)},s=function(){o.horizontal.x=Math.floor(t.width*(1-o.horRatio/100))},h=function(){var i=gConst.mobileByScale[t.screenType][t.mobileType];o.center?o.horizontal.y=Math.floor((t.height-o.horSpace)/2-e.height*o.scale+o.centerOffset*i):o.topSpace>0&&o.topSpace<1?o.horizontal.y=Math.floor(o.topSpace*t.height+e.anchorOffsetY*o.scale):o.horizontal.y=Math.floor((o.topSpace+e.anchorOffsetY)*o.scale)},c=function(){o.bottomSpace>0&&o.bottomSpace<1?o.horizontal.y=Math.floor((1-o.bottomSpace)*t.height-e.anchorOffsetY*o.scale):t.btnDir.horDir==t.logoDir.horDir?o.horizontal.y=t.height-Math.floor((o.bottomSpace+i.height)*a.scale+(o.horSpace+e.anchorOffsetY)*o.scale):o.horizontal.y=t.height-Math.floor((o.bottomSpace+e.anchorOffsetY)*o.scale)};switch(this.logoDir.horDir){case gConst.direction.LEFT_TOP:n.call(this),h.call(this);break;case gConst.direction.LEFT_BOTTOM:n.call(this),c.call(this);break;case gConst.direction.CENTER_TOP:r.call(this),h.call(this);break;case gConst.direction.CENTER_BOTTOM:r.call(this),c.call(this);break;case gConst.direction.RIGHT_TOP:s.call(this),h.call(this);break;case gConst.direction.RIGHT_BOTTOM:s.call(this),c.call(this)}},e.prototype.__updateLogoHor=function(){var t=this,e=this.conLogo,i=this.conBtn,o=this.logoLoc,a=this.btnLoc,n=function(){o.leftSpace>0&&o.leftSpace<1?t.btnDir.horDir==t.logoDir.horDir?o.horizontal.x=Math.floor(o.leftSpace*o.scale*t.width+Math.max(e.anchorOffsetX*o.scale,i.anchorOffsetX*a.scale)):o.horizontal.x=Math.floor(o.leftSpace*o.scale*t.width+e.anchorOffsetX*o.scale):t.btnDir.horDir==t.logoDir.horDir?o.horizontal.x=Math.floor(o.leftSpace*o.scale+Math.max(e.anchorOffsetX*o.scale,i.anchorOffsetX*a.scale)):o.horizontal.x=Math.floor(o.leftSpace*o.scale+e.anchorOffsetX*o.scale)},r=function(){o.horizontal.x=Math.floor(t.width/2)},s=function(){o.rightSpace>0&&o.rightSpace<1?o.horizontal.x=Math.floor(t.width-(Math.max(e.anchorOffsetX*o.scale,i.anchorOffsetX*a.scale)+o.rightSpace*o.scale*t.width)):t.btnDir.horDir==t.logoDir.horDir?o.horizontal.x=Math.floor(t.width-(Math.max(e.anchorOffsetX*o.scale,i.anchorOffsetX*a.scale)+o.rightSpace*o.scale)):o.horizontal.x=Math.floor(t.width-(e.anchorOffsetX*o.scale+o.rightSpace*o.scale))},h=function(){var i=gConst.mobileByScale[t.screenType][t.mobileType];o.center?o.horizontal.y=Math.floor((t.height-o.horSpace)/2-e.height*o.scale+o.centerOffset*i):o.topSpace>0&&o.topSpace<1?o.horizontal.y=Math.floor(o.topSpace*t.height+e.anchorOffsetY*o.scale):o.horizontal.y=Math.floor((o.topSpace+e.anchorOffsetY)*o.scale)},c=function(){o.bottomSpace>0&&o.bottomSpace<1?o.horizontal.y=Math.floor((1-o.bottomSpace)*t.height-e.anchorOffsetY*o.scale):t.btnDir.horDir==t.logoDir.horDir?o.horizontal.y=Math.floor(t.height-((o.bottomSpace+i.height)*a.scale+(o.horSpace+e.anchorOffsetY)*o.scale)):o.horizontal.y=Math.floor(t.height-(o.bottomSpace+e.anchorOffsetY)*o.scale)};switch(this.logoDir.horDir){case gConst.direction.LEFT_TOP:n.call(this),h.call(this);break;case gConst.direction.LEFT_BOTTOM:n.call(this),c.call(this);break;case gConst.direction.CENTER_TOP:r.call(this),h.call(this);break;case gConst.direction.CENTER_BOTTOM:r.call(this),c.call(this);break;case gConst.direction.RIGHT_TOP:s.call(this),h.call(this);break;case gConst.direction.RIGHT_BOTTOM:s.call(this),c.call(this)}},e.prototype._updateLogoHor=function(){void 0!=this.logoLoc.horRatio?this.__updateLogoHorRatio():this.__updateLogoHor()},e.prototype.__updateLogoVerRatio=function(){var t=this,e=this.conLogo,i=this.conBtn,o=this.logoLoc,a=this.btnLoc,n=function(){o.leftSpace>0&&o.leftSpace<1?o.vertical.x=Math.floor(o.leftSpace*o.scale*t.width+Math.max(e.anchorOffsetX*o.scale,i.anchorOffsetX*a.scale)):o.vertical.x=Math.floor(o.leftSpace*o.scale+Math.max(e.anchorOffsetX*o.scale,i.anchorOffsetX*a.scale))},r=function(){o.vertical.x=t.width/2},s=function(){var i=Math.floor(t.height*o.verRatio/100);t.btnDir.verDir==t.logoDir.verDir?o.vertical.y=i-Math.floor((o.verSpace/2+e.anchorOffsetY)*o.scale):o.vertical.y=i},h=function(){var i=Math.floor(t.height*(1-o.verRatio/100));t.btnDir.verDir==t.logoDir.verDir?o.vertical.y=i-Math.floor((o.verSpace/2+e.anchorOffsetY)*o.scale):o.vertical.y=i};switch(this.logoDir.verDir){case gConst.direction.LEFT_TOP:n.call(this),s.call(this);break;case gConst.direction.LEFT_BOTTOM:n.call(this),h.call(this);break;case gConst.direction.CENTER_TOP:r.call(this),s.call(this);break;case gConst.direction.CENTER_BOTTOM:r.call(this),h.call(this)}},e.prototype.__updateLogoVer=function(){var t=this,e=this.conLogo,i=this.conBtn,o=this.logoLoc,a=this.btnLoc,n=function(){o.leftSpace>0&&o.leftSpace<1?o.vertical.x=Math.floor(o.leftSpace*o.scale*t.width+Math.max(e.anchorOffsetX*o.scale,i.anchorOffsetX*a.scale)):t.btnDir.verDir==t.logoDir.verDir?o.vertical.x=Math.floor(o.leftSpace*o.scale+Math.max(e.anchorOffsetX*o.scale,i.anchorOffsetX*a.scale)):o.vertical.x=Math.floor(o.leftSpace*o.scale+e.anchorOffsetX*o.scale)},r=function(){o.vertical.x=t.width/2},s=function(){o.rightSpace>0&&o.rightSpace<1?o.vertical.x=Math.floor(t.width-(Math.max(e.anchorOffsetX*o.scale,i.anchorOffsetX*a.scale)+o.rightSpace*o.scale*t.width)):t.btnDir.verDir==t.logoDir.verDir?o.vertical.x=Math.floor(t.width-(Math.max(e.anchorOffsetX*o.scale,i.anchorOffsetX*a.scale)+o.rightSpace*o.scale)):o.vertical.x=Math.floor(t.width-(e.anchorOffsetX*o.scale+o.rightSpace*o.scale))},h=function(){o.topSpace>0&&o.topSpace<1?o.vertical.y=Math.floor(o.topSpace*t.height+e.anchorOffsetY*o.scale):o.vertical.y=Math.floor((o.topSpace+e.anchorOffsetY)*o.scale)},c=function(){o.bottomSpace>0&&o.bottomSpace<1?o.vertical.y=Math.floor((1-o.bottomSpace)*t.height-e.anchorOffsetY*o.scale):t.btnDir.verDir==t.logoDir.verDir?o.vertical.y=Math.floor(t.height-((o.bottomSpace+i.height)*a.scale+(o.verSpace+e.anchorOffsetY)*o.scale)):o.vertical.y=Math.floor(t.height-(o.bottomSpace+e.anchorOffsetY)*o.scale)};switch(this.logoDir.verDir){case gConst.direction.LEFT_TOP:n.call(this),h.call(this);break;case gConst.direction.LEFT_BOTTOM:n.call(this),c.call(this);break;case gConst.direction.CENTER_TOP:r.call(this),h.call(this);break;case gConst.direction.CENTER_BOTTOM:r.call(this),c.call(this);break;case gConst.direction.RIGHT_TOP:s.call(this),h.call(this);break;case gConst.direction.RIGHT_BOTTOM:s.call(this),c.call(this)}},e.prototype._updateLogoVer=function(){void 0!=this.logoLoc.verRatio?this.__updateLogoVerRatio():this.__updateLogoVer()},e.prototype.updateLogoLoc=function(t){if(t)void 0!=t.horizontal.x&&(t.horizontal.x=t.horizontal.x),void 0!=t.horizontal.y&&(t.horizontal.y=t.horizontal.y),void 0!=t.vertical.x&&(t.vertical.x=t.vertical.x),void 0!=t.vertical.y&&(t.vertical.y=t.vertical.y);else{if(!this.logoDir)return;this._updateLogoHor(),this._updateLogoVer()}},e.prototype.__updateBtnHorRatio=function(){var t=this,e=this.conLogo,i=this.conBtn,o=this.logoLoc,a=this.btnLoc,n=function(){a.horizontal.x=Math.floor(t.width*a.horRatio/100)},r=function(){a.horizontal.x=Math.floor(t.width/2)},s=function(){a.horizontal.x=Math.floor(t.width*(1-a.horRatio/100))},h=function(){var n=gConst.mobileByScale[t.screenType][t.mobileType];o.center?a.horizontal.y=Math.floor((t.height+a.horSpace)/2+a.centerOffset*n):a.topSpace>0&&a.topSpace<1?t.logoDir.horDir==t.btnDir.horDir?a.horizontal.y=Math.floor(o.topSpace*t.height+e.height*o.scale+a.horSpace+i.anchorOffsetY*a.scale):a.horizontal.y=Math.floor(a.topSpace*t.height*a.scale):t.logoDir.horDir==t.btnDir.horDir?a.horizontal.y=Math.floor((o.topSpace+e.height)*o.scale+(a.horSpace+i.anchorOffsetY)*a.scale):a.horizontal.y=Math.floor((a.topSpace+i.anchorOffsetY)*a.scale)},c=function(){a.bottomSpace>0&&a.bottomSpace<1?a.horizontal.y=Math.floor((1-a.bottomSpace)*t.height-i.anchorOffsetY*a.scale):a.horizontal.y=Math.floor(t.height-(a.bottomSpace+i.anchorOffsetY)*a.scale)};switch(this.btnDir.horDir){case gConst.direction.LEFT_TOP:n.call(this),h.call(this);break;case gConst.direction.LEFT_BOTTOM:n.call(this),c.call(this);break;case gConst.direction.CENTER_TOP:r.call(this),h.call(this);break;case gConst.direction.CENTER_BOTTOM:r.call(this),c.call(this);break;case gConst.direction.RIGHT_TOP:s.call(this),h.call(this);break;case gConst.direction.RIGHT_BOTTOM:s.call(this),c.call(this)}},e.prototype.__updateBtnHor=function(){var t=this,e=this.conLogo,i=this.conBtn,o=this.logoLoc,a=this.btnLoc,n=function(){a.leftSpace>0&&a.leftSpace<1?t.logoDir.horDir==t.btnDir.horDir?a.horizontal.x=Math.floor(a.leftSpace*a.scale*t.width+Math.max(e.anchorOffsetX*o.scale,i.anchorOffsetX*a.scale)):a.horizontal.x=Math.floor(a.leftSpace*a.scale*t.width+i.anchorOffsetX*a.scale):t.logoDir.horDir==t.btnDir.horDir?a.horizontal.x=Math.floor(a.leftSpace*a.scale+Math.max(e.anchorOffsetX*o.scale,i.anchorOffsetX*a.scale)):a.horizontal.x=Math.floor(a.leftSpace*a.scale+i.anchorOffsetX*a.scale)},r=function(){a.horizontal.x=Math.floor(t.width/2)},s=function(){a.rightSpace>0&&a.rightSpace<1?a.horizontal.x=Math.floor(t.width-(Math.max(e.anchorOffsetX*o.scale,i.anchorOffsetX*a.scale)+a.rightSpace*o.scale*t.width)):t.logoDir.horDir==t.btnDir.horDir?a.horizontal.x=Math.floor(t.width-(Math.max(e.anchorOffsetX*o.scale,i.anchorOffsetX*a.scale)+a.rightSpace*a.scale)):a.horizontal.x=Math.floor(t.width-(i.anchorOffsetX*a.scale+a.rightSpace*a.scale))},h=function(){var n=gConst.mobileByScale[t.screenType][t.mobileType];o.center?a.horizontal.y=Math.floor((t.height+a.horSpace)/2+a.centerOffset*n):a.topSpace>0&&a.topSpace<1?t.logoDir.horDir==t.btnDir.horDir?a.horizontal.y=Math.floor(o.topSpace*t.height+e.height*o.scale+a.horSpace+i.anchorOffsetY*a.scale):a.horizontal.y=Math.floor(a.topSpace*t.height*a.scale+i.anchorOffsetY*a.scale):t.logoDir.horDir==t.btnDir.horDir?a.horizontal.y=Math.floor((o.topSpace+e.height)*o.scale+(a.horSpace+i.anchorOffsetY)*a.scale):a.horizontal.y=Math.floor((a.topSpace+i.anchorOffsetY)*a.scale)},c=function(){a.bottomSpace>0&&a.bottomSpace<1?a.horizontal.y=Math.floor((1-a.bottomSpace)*t.height-i.anchorOffsetY*a.scale):a.horizontal.y=Math.floor(t.height-(a.bottomSpace+i.anchorOffsetY)*a.scale)};switch(this.btnDir.horDir){case gConst.direction.LEFT_TOP:n.call(this),h.call(this);break;case gConst.direction.LEFT_BOTTOM:n.call(this),c.call(this);break;case gConst.direction.CENTER_TOP:r.call(this),h.call(this);break;case gConst.direction.CENTER_BOTTOM:r.call(this),c.call(this);break;case gConst.direction.RIGHT_TOP:s.call(this),h.call(this);break;case gConst.direction.RIGHT_BOTTOM:s.call(this),c.call(this)}},e.prototype._updateBtnHor=function(){void 0!=this.btnLoc.horRatio?this.__updateBtnHorRatio():this.__updateBtnHor()},e.prototype.__updateBtnVerRatio=function(){var t=this,e=this.conLogo,i=this.conBtn,o=this.logoLoc,a=this.btnLoc,n=function(){a.leftSpace>0&&a.leftSpace<1?a.vertical.x=Math.floor(a.leftSpace*a.scale*t.width+Math.max(e.anchorOffsetX*o.scale,i.anchorOffsetX*a.scale)):a.vertical.x=Math.floor(a.leftSpace*a.scale+Math.max(e.anchorOffsetX*o.scale,i.anchorOffsetX*a.scale))},r=function(){a.vertical.x=Math.floor(t.width/2)},s=function(){var e=Math.floor(t.height*a.verRatio/100);t.logoDir.verDir==t.btnDir.verDir?a.vertical.y=e+Math.floor(a.verSpace/2+i.anchorOffsetY)*a.scale:a.vertical.y=e},h=function(){var e=Math.floor(t.height*(1-a.verRatio/100));t.logoDir.verDir==t.btnDir.verDir?a.vertical.y=e+Math.floor(a.verSpace/2+i.anchorOffsetY)*a.scale:a.vertical.y=e};switch(this.btnDir.verDir){case gConst.direction.LEFT_TOP:n.call(this),s.call(this);break;case gConst.direction.LEFT_BOTTOM:n.call(this),h.call(this);break;case gConst.direction.CENTER_TOP:r.call(this),s.call(this);break;case gConst.direction.CENTER_BOTTOM:r.call(this),h.call(this)}},e.prototype.__updateBtnVer=function(){var t=this,e=this.conLogo,i=this.conBtn,o=this.logoLoc,a=this.btnLoc,n=function(){a.leftSpace>0&&a.leftSpace<1?a.vertical.x=Math.floor(a.leftSpace*a.scale*t.width+Math.max(e.anchorOffsetX*o.scale,i.anchorOffsetX*a.scale)):t.logoDir.verDir==t.btnDir.verDir?a.vertical.x=Math.floor(a.leftSpace*a.scale+Math.max(e.anchorOffsetX*o.scale,i.anchorOffsetX*a.scale)):a.vertical.x=Math.floor(a.leftSpace*a.scale+i.anchorOffsetX*a.scale)},r=function(){a.vertical.x=t.width/2},s=function(){a.rightSpace>0&&a.rightSpace<1?a.vertical.x=Math.floor(t.width-(Math.max(e.anchorOffsetX*o.scale,i.anchorOffsetX*a.scale)+a.rightSpace*o.scale*t.width)):t.logoDir.verDir==t.btnDir.verDir?a.vertical.x=Math.floor(t.width-(Math.max(e.anchorOffsetX*o.scale,i.anchorOffsetX*a.scale)+a.rightSpace*a.scale)):a.vertical.x=Math.floor(t.width-(i.anchorOffsetX*a.scale+a.rightSpace*a.scale))},h=function(){a.topSpace>0&&a.topSpace<1?t.logoDir.verDir==t.btnDir.verDir?a.vertical.y=Math.floor(o.topSpace*t.height+e.height*o.scale+a.verSpace+i.anchorOffsetY*a.scale):a.vertical.y=Math.floor(a.topSpace*t.height*a.scale+i.anchorOffsetY*a.scale):t.logoDir.verDir==t.btnDir.verDir?a.vertical.y=Math.floor((o.topSpace+e.height)*o.scale+(a.verSpace+i.anchorOffsetY)*a.scale):a.vertical.y=Math.floor((a.topSpace+i.anchorOffsetY)*a.scale)},c=function(){a.bottomSpace>0&&a.bottomSpace<1?a.vertical.y=Math.floor((1-a.bottomSpace)*t.height-i.anchorOffsetY*a.scale):a.vertical.y=Math.floor(t.height-(a.bottomSpace+i.anchorOffsetY)*a.scale)};switch(this.btnDir.verDir){case gConst.direction.LEFT_TOP:n.call(this),h.call(this);break;case gConst.direction.LEFT_BOTTOM:n.call(this),c.call(this);break;case gConst.direction.CENTER_TOP:r.call(this),h.call(this);break;case gConst.direction.CENTER_BOTTOM:r.call(this),c.call(this);break;case gConst.direction.RIGHT_TOP:s.call(this),h.call(this);break;case gConst.direction.RIGHT_BOTTOM:s.call(this),c.call(this)}},e.prototype._updateBtnVer=function(){void 0!=this.btnLoc.verRatio?this.__updateBtnVerRatio():this.__updateBtnVer()},e.prototype.updateBtnLoc=function(t){if(t)void 0!=t.horizontal.x&&(t.horizontal.x=t.horizontal.x),void 0!=t.horizontal.y&&(t.horizontal.y=t.horizontal.y),void 0!=t.vertical.x&&(t.vertical.x=t.vertical.x),void 0!=t.vertical.y&&(t.vertical.y=t.vertical.y);else{if(!this.btnDir)return;this._updateBtnHor(),this._updateBtnVer()}},e.prototype.updateDir=function(t,e,i,o){void 0===i&&(i=!1),void 0===o&&(o=!1),this.init(t,e,i),o&&(this.resizeView(),this.rotateView())},e.prototype.yoyoBtn=function(t){void 0===t&&(t=!0),gConst.notEffectModel||window.MW_CONFIG&&"google"==MW_CONFIG.channel||(t?gTween.yoyoBtn(this.gBtn,void 0,void 0,{orgS:{x:this.initBtnS}}):this.isYoyoBtn&&(gTween.rmTweens(this.gBtn),this.gBtn.scaleX=this.gBtn.scaleY=1),this.isYoyoBtn=t)},e.prototype.gameEnd=function(){t.prototype.gameEnd.call(this);this.conLogo,this.conBtn},e.prototype.updateEndLoc=function(){if(GameMgr.isEnd){var t=gConst.mobileByScale[this.screenType][this.mobileType],e=this.logoLoc,i=this.btnLoc;if(e.scale=this.initConLogoS*t,e.bottomSpace=i.bottomSpace=.1,e.horRatio=i.horRatio=25,e.horSpace=i.horSpace=0,e.centerOffset=i.centerOffset=140,1==this.screenType)switch(i.scale=this.initConBtnS*t,e.center=i.center=null,this._updateLogoVer(),this._updateBtnVer(),this.mobileType){case 1:break;case 2:break;case 3:}else switch(i.scale=this.initConBtnS*t*.9,e.center=i.center=!0,this._updateLogoHor(),this._updateBtnHor(),this.mobileType){case 1:break;case 2:break;case 3:}}},e.prototype.clickArticle=function(t){this.clickInstall(t)},e}(t.UiFile);t.UiFirst=e,__reflect(e.prototype,"ui.UiFirst")}(ui||(ui={}));var com;!function(t){var e=function(t){function e(){var e=t.call(this)||this;return e.isGuide=!1,e.skinName=skins.ComGuide,e}return __extends(e,t),e.prototype.init=function(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];this.isMC=!1,this.touchEnabled=this.touchChildren=!1,this.hideLight()},e.prototype.load=function(){},e.prototype.start=function(){},e.prototype.stop=function(){},e.prototype.update=function(){},e.prototype.addEvent=function(){},e.prototype.removeEvent=function(){},e.prototype.resizeView=function(t){var e=gConst.mobileByScale[GameMgr.screenType][GameMgr.mobileType];if(this.scaleX=this.scaleY=e*this.offS,this.isGuide&&(egret.clearTimeout(this.guideDelay),this.guideDelay=egret.setTimeout(this.playGuide,this,100)),1==GameMgr.screenType)switch(GameMgr.mobileType){case 1:break;case 2:break;case 3:}else switch(GameMgr.mobileType){case 1:break;case 2:break;case 3:}},e.prototype.rotateView=function(t){1==GameMgr.screenType},e.prototype.setMcData=function(t,e,i,o){void 0===e&&(e=1),void 0===i&&(i=0),void 0===o&&(o=0),this.isMC=!0,this.playCnt=e,this.hand.open(),this.hand.setData(t,i,o),this.fName=t[0].fName,this.frameCnt=t[0].frameCnt,this.hand.gotoAndStop(this.fName)},e.prototype.setData=function(t,e,i,o){void 0===o&&(o={}),this.delayTimer=t,this.target1=e.target1,this.target2=e.target2,this.target3=e.target3,this.target4=e.target4,this.target5=e.target5,this.moveTime=e.moveTime,this.isReturn=e.isReturn,this.parentObj=i,this.diffX=void 0!=o.diffX?o.diffX:0,this.diffY=void 0!=o.diffY?o.diffY:20,this.diffS=void 0!=o.diffS?o.diffS:.9,this.pressT=void 0!=o.pressT?o.pressT:300,this.liftT=void 0!=o.liftT?o.liftT:800,this.waitT=void 0!=o.waitT?o.waitT:500,this.direction=void 0!=o.direction?o.direction:gConst.direction.CENTER_CENTER,this.offX=void 0!=o.offX?o.offX:0,this.offY=void 0!=o.offY?o.offY:0,this.offR=void 0!=o.offR?o.offR:0,this.offS=void 0!=o.offS?o.offS:1,this.isBack=void 0!=o.isBack?o.isBack:!1},e.prototype.updateData=function(t){void 0!=t.delayTimer&&(this.delayTimer=t.delayTimer),void 0!=t.targetArg.target1&&(this.target1=t.targetArg.target1),void 0!=t.targetArg.target2&&(this.target2=t.targetArg.target2),void 0!=t.targetArg.target3&&(this.target3=t.targetArg.target3),void 0!=t.targetArg.target4&&(this.target4=t.targetArg.target4),void 0!=t.targetArg.target5&&(this.target5=t.targetArg.target5),void 0!=t.targetArg.moveTime&&(this.moveTime=t.targetArg.moveTime),void 0!=t.targetArg.isReturn&&(this.isReturn=t.targetArg.isReturn),void 0!=t.parentObj&&(this.parentObj=t.parentObj),void 0!=t.prop&&(void 0!=t.prop.diffX&&(this.diffX=t.prop.diffX),void 0!=t.prop.diffY&&(this.diffY=t.prop.diffY),void 0!=t.prop.diffS&&(this.diffS=t.prop.diffS),void 0!=t.prop.pressT&&(this.pressT=t.prop.pressT),void 0!=t.prop.liftT&&(this.liftT=t.prop.liftT),void 0!=t.prop.waitT&&(this.waitT=t.prop.waitT),void 0!=t.prop.direction&&(this.direction=t.prop.direction),void 0!=t.prop.offX&&(this.offX=t.prop.offX),void 0!=t.prop.offY&&(this.offY=t.prop.offY),void 0!=t.prop.offR&&(this.offR=t.prop.offR),void 0!=t.prop.offS&&(this.offS=t.prop.offS),void 0!=t.prop.isBack&&(this.isBack=t.prop.isBack))},e.prototype.play=function(){egret.clearTimeout(this.guideDelay),this.guideDelay=egret.setTimeout(this.playGuide,this,this.delayTimer)},e.prototype.over=function(){var t=this;egret.clearTimeout(this.guideDelay),this.isGuide&&this&&this.parent&&(this.isGuide=!1,this.hideLight(!0),gTween.fadeOut(this.hand,300,1,void 0,void 0,{callback:function(){gTween.rmTweens(t.hand),gComMgr.rmObj(t),t.hand.alpha=1,t.dispatchEventWith(gConst.eventType.GUIDE_STOP)}}))},e.prototype.stopMC=function(){this.isMC&&this.hand.pause()},e.prototype.reset=function(){this.once(gConst.eventType.GUIDE_STOP,this.start,this),this.over()},e.prototype.showLight=function(){var t=this;this.light&&(this.light.x=this.initHandX,this.light.y=this.initHandY,this.light.scaleX=this.light.scaleY=1,gTween.fadeIn(this.light,300,1,void 0,void 0,{callback:function(){gTween.loopScale(t.light,.65,(t.pressT+t.liftT+t.waitT)/2,1)}}))},e.prototype.hideLight=function(t){void 0===t&&(t=!1),this.light&&(t?gTween.fadeOut(this.light,300,1):this.light.visible=!1)},e.prototype.showGuide=function(){this.isMC&&this.hand.gotoAndStop(this.fName),this.show(),this.hand.alpha=1,this.parentObj.addChild(this),this.updateGuideLoc()},e.prototype.updateGuideLoc=function(t){if(void 0===t&&(t=this.target1),this&&this.parent){var e=t.x-t.anchorOffsetX*t.scaleX,i=t.y-t.anchorOffsetY*t.scaleX,o=t.width*t.scaleX,a=t.height*t.scaleX;switch(this.direction){case gConst.direction.LEFT_TOP:this.rotation=135;break;case gConst.direction.CENTER_TOP:e+=o/2,this.rotation=180;break;case gConst.direction.RIGHT_TOP:e+=o,this.rotation=-135;break;case gConst.direction.RIGHT_CENTER:e+=o,i+=a/2,this.rotation=-90;break;case gConst.direction.RIGHT_BOTTOM:e+=o/2,i+=a/2,this.rotation=-45;break;case gConst.direction.CENTER_BOTTOM:e+=o/2,i+=a,this.rotation=0;break;case gConst.direction.LEFT_BOTTOM:i+=a,this.rotation=45;break;case gConst.direction.LEFT_CENTER:i+=a/2,this.rotation=90;break;default:e+=o/2,i+=a/2,this.rotation=0}e+=this.offX*t.scaleX,i+=this.offY*t.scaleX,this.rotation+=this.offR;var n=gConst.mobileByScale[GameMgr.screenType][GameMgr.mobileType];this.scaleX=this.scaleY=n*this.offS;var r=t.parent.localToGlobal(e,i),s=this.globalToLocal(r.x,r.y,r);this.initHandX=this.hand.x=s.x,this.initHandY=this.hand.y=s.y}},e.prototype.playGuide=function(){var t=this;if(this.showGuide(),this.isGuide=!0,gTween.rmTweens(this.hand),this.hand.alpha=0,this.hand.scaleX=this.hand.scaleY=1,this.hand.visible=!0,this.showLight(),this.target2)if(this.target3)if(this.target4)if(this.target5){var e=this.initHandX,i=this.initHandY;this.updateGuideLoc(this.target2);var o=this.initHandX,a=this.initHandY;this.updateGuideLoc(this.target3);var n=this.initHandX,r=this.initHandY;this.updateGuideLoc(this.target4);var s=this.initHandX,h=this.initHandY;this.updateGuideLoc(this.target5);var c=this.initHandX,l=this.initHandY;this.hand.x=e+this.diffX,this.hand.y=i+this.diffY,void 0==this.moveTime&&(this.moveTime=100);var p;p=this.isReturn?{x:e+this.diffX,y:i+this.diffY}:{alpha:0},egret.Tween.get(this.hand).to({alpha:1},300).call(function(){t.isMC?egret.Tween.get(t.hand,{loop:!0}).call(function(){t.hand.interval=t.pressT,t.hand.gotoAndPlay(t.fName,t.playCnt)},t).wait(t.pressT*t.playCnt*(t.frameCnt+3)).call(function(){t.hand.gotoAndStop(t.fName)},t).call(t.dispatchEventWith,t,[gConst.eventType.GUIDE_TOUCH_ONE]).wait(t.liftT).to({x:o,y:a},t.moveTime).call(function(){t.hand.interval=t.pressT,t.hand.gotoAndPlay(t.fName,t.playCnt)},t).wait(t.pressT*t.playCnt*(t.frameCnt+3)).call(function(){t.hand.gotoAndStop(t.fName)},t).call(t.dispatchEventWith,t,[gConst.eventType.GUIDE_TOUCH_ONE]).wait(t.liftT).to({x:n,y:r},t.moveTime).call(function(){t.hand.interval=t.pressT,t.hand.gotoAndPlay(t.fName,t.playCnt)},t).wait(t.pressT*t.playCnt*(t.frameCnt+3)).call(function(){t.hand.gotoAndStop(t.fName)},t).call(t.dispatchEventWith,t,[gConst.eventType.GUIDE_TOUCH_ONE]).wait(t.liftT).to({x:s,y:h},t.moveTime).call(function(){t.hand.interval=t.pressT,t.hand.gotoAndPlay(t.fName,t.playCnt)},t).wait(t.pressT*t.playCnt*(t.frameCnt+3)).call(function(){t.hand.gotoAndStop(t.fName)},t).call(t.dispatchEventWith,t,[gConst.eventType.GUIDE_TOUCH_ONE]).wait(t.liftT).to({x:c,y:l},t.moveTime).call(function(){t.hand.interval=t.pressT,t.hand.gotoAndPlay(t.fName,t.playCnt)},t).wait(t.pressT*t.playCnt*(t.frameCnt+3)).call(function(){t.hand.gotoAndStop(t.fName)},t).call(t.dispatchEventWith,t,[gConst.eventType.GUIDE_TOUCH_ONE]).wait(t.liftT).wait(t.waitT).to(p,t.isReturn?t.moveTime:t.waitT):egret.Tween.get(t.hand,{loop:!0}).to({scaleX:t.diffS,scaleY:t.diffS,x:e,y:i,alpha:1},t.pressT).call(t.dispatchEventWith,t,[gConst.eventType.GUIDE_TOUCH_ONE]).to({scaleX:1,scaleY:1,x:e+t.diffX,y:i+t.diffY},t.liftT).to({x:o+t.diffX,y:a+t.diffY},t.moveTime).to({scaleX:t.diffS,scaleY:t.diffS,x:o,y:a},t.pressT).call(t.dispatchEventWith,t,[gConst.eventType.GUIDE_TOUCH_ONE]).to({scaleX:1,scaleY:1,x:o+t.diffX,y:a+t.diffY},t.liftT).to({x:n+t.diffX,y:r+t.diffY},t.moveTime).to({scaleX:t.diffS,scaleY:t.diffS,x:n,y:r},t.pressT).call(t.dispatchEventWith,t,[gConst.eventType.GUIDE_TOUCH_ONE]).to({scaleX:1,scaleY:1,x:n+t.diffX,y:r+t.diffY},t.liftT).to({x:s+t.diffX,y:h+t.diffY},t.moveTime).to({scaleX:t.diffS,scaleY:t.diffS,x:s,y:h},t.pressT).call(t.dispatchEventWith,t,[gConst.eventType.GUIDE_TOUCH_ONE]).to({scaleX:1,scaleY:1,x:s+t.diffX,y:h+t.diffY},t.liftT).to({x:c+t.diffX,y:l+t.diffY},t.moveTime).to({scaleX:t.diffS,scaleY:t.diffS,x:c,y:l},t.pressT).call(t.dispatchEventWith,t,[gConst.eventType.GUIDE_TOUCH_ONE]).to({scaleX:1,scaleY:1,x:c+t.diffX,y:l+t.diffY},t.liftT).wait(t.waitT).to(p,t.isReturn?4*t.moveTime:t.waitT)},this)}else{var d=this.initHandX,f=this.initHandY;this.updateGuideLoc(this.target2);var u=this.initHandX,g=this.initHandY;this.updateGuideLoc(this.target3);var v=this.initHandX,y=this.initHandY;this.updateGuideLoc(this.target4);var m=this.initHandX,T=this.initHandY;this.hand.x=d+this.diffX,this.hand.y=f+this.diffY,void 0==this.moveTime&&(this.moveTime=100);var E;E=this.isReturn?{x:d+this.diffX,y:f+this.diffY}:{alpha:0},egret.Tween.get(this.hand).to({alpha:1},300).call(function(){t.isMC?egret.Tween.get(t.hand,{loop:!0}).call(function(){t.hand.interval=t.pressT,t.hand.gotoAndPlay(t.fName,t.playCnt)},t).wait(t.pressT*t.playCnt*(t.frameCnt+3)).call(function(){t.hand.gotoAndStop(t.fName)},t).call(t.dispatchEventWith,t,[gConst.eventType.GUIDE_TOUCH_ONE]).wait(t.liftT).to({x:u,y:g},t.moveTime).call(function(){t.hand.interval=t.pressT,t.hand.gotoAndPlay(t.fName,t.playCnt)},t).wait(t.pressT*t.playCnt*(t.frameCnt+3)).call(function(){t.hand.gotoAndStop(t.fName)},t).call(t.dispatchEventWith,t,[gConst.eventType.GUIDE_TOUCH_ONE]).wait(t.liftT).to({x:v,y:y},t.moveTime).call(function(){t.hand.interval=t.pressT,t.hand.gotoAndPlay(t.fName,t.playCnt)},t).wait(t.pressT*t.playCnt*(t.frameCnt+3)).call(function(){t.hand.gotoAndStop(t.fName)},t).call(t.dispatchEventWith,t,[gConst.eventType.GUIDE_TOUCH_ONE]).wait(t.liftT).to({x:m,y:T},t.moveTime).call(function(){t.hand.interval=t.pressT,t.hand.gotoAndPlay(t.fName,t.playCnt)},t).wait(t.pressT*t.playCnt*(t.frameCnt+3)).call(function(){t.hand.gotoAndStop(t.fName)},t).call(t.dispatchEventWith,t,[gConst.eventType.GUIDE_TOUCH_ONE]).wait(t.liftT).wait(t.waitT).to(E,t.isReturn?t.moveTime:t.waitT):egret.Tween.get(t.hand,{loop:!0}).to({scaleX:t.diffS,scaleY:t.diffS,x:d,y:f,alpha:1},t.pressT).call(t.dispatchEventWith,t,[gConst.eventType.GUIDE_TOUCH_ONE]).to({scaleX:1,scaleY:1,x:d+t.diffX,y:f+t.diffY},t.liftT).to({x:u+t.diffX,y:g+t.diffY},t.moveTime).to({scaleX:t.diffS,scaleY:t.diffS,x:u,y:g},t.pressT).call(t.dispatchEventWith,t,[gConst.eventType.GUIDE_TOUCH_ONE]).to({scaleX:1,scaleY:1,x:u+t.diffX,y:g+t.diffY},t.liftT).to({x:v+t.diffX,y:y+t.diffY},t.moveTime).to({scaleX:t.diffS,scaleY:t.diffS,x:v,y:y},t.pressT).call(t.dispatchEventWith,t,[gConst.eventType.GUIDE_TOUCH_ONE]).to({scaleX:1,scaleY:1,x:v+t.diffX,y:y+t.diffY},t.liftT).to({x:m+t.diffX,y:T+t.diffY},t.moveTime).to({scaleX:t.diffS,scaleY:t.diffS,x:m,y:T},t.pressT).call(t.dispatchEventWith,t,[gConst.eventType.GUIDE_TOUCH_ONE]).to({scaleX:1,scaleY:1,x:m+t.diffX,y:T+t.diffY},t.liftT).wait(t.waitT).to(E,t.isReturn?3*t.moveTime:t.waitT)},this)}else{var _=this.initHandX,w=this.initHandY;this.updateGuideLoc(this.target2);var C=this.initHandX,O=this.initHandY;this.updateGuideLoc(this.target3);var M=this.initHandX,b=this.initHandY;this.hand.x=_+this.diffX,this.hand.y=w+this.diffY,void 0==this.moveTime&&(this.moveTime=100);var S;S=this.isReturn?{x:_+this.diffX,y:w+this.diffY}:{alpha:0},egret.Tween.get(this.hand).to({alpha:1},300).call(function(){t.isMC?egret.Tween.get(t.hand,{loop:!0}).call(function(){t.hand.interval=t.pressT,t.hand.gotoAndPlay(t.fName,t.playCnt)},t).wait(t.pressT*t.playCnt*(t.frameCnt+3)).call(function(){t.hand.gotoAndStop(t.fName)},t).call(t.dispatchEventWith,t,[gConst.eventType.GUIDE_TOUCH_ONE]).wait(t.liftT).to({x:C,y:O},t.moveTime).call(function(){t.hand.interval=t.pressT,t.hand.gotoAndPlay(t.fName,t.playCnt)},t).wait(t.pressT*t.playCnt*(t.frameCnt+3)).call(function(){t.hand.gotoAndStop(t.fName)},t).call(t.dispatchEventWith,t,[gConst.eventType.GUIDE_TOUCH_ONE]).wait(t.liftT).to({x:M,y:b},t.moveTime).call(function(){t.hand.interval=t.pressT,t.hand.gotoAndPlay(t.fName,t.playCnt)},t).wait(t.pressT*t.playCnt*(t.frameCnt+3)).call(function(){t.hand.gotoAndStop(t.fName)},t).call(t.dispatchEventWith,t,[gConst.eventType.GUIDE_TOUCH_ONE]).wait(t.liftT).wait(t.waitT).to(S,t.isReturn?t.moveTime:t.waitT):egret.Tween.get(t.hand,{loop:!0}).to({scaleX:t.diffS,scaleY:t.diffS,x:_,y:w,alpha:1},t.pressT).call(t.dispatchEventWith,t,[gConst.eventType.GUIDE_TOUCH_ONE]).to({scaleX:1,scaleY:1,x:_+t.diffX,y:w+t.diffY},t.liftT).to({x:C+t.diffX,y:O+t.diffY},t.moveTime).to({scaleX:t.diffS,scaleY:t.diffS,x:C,y:O},t.pressT).call(t.dispatchEventWith,t,[gConst.eventType.GUIDE_TOUCH_ONE]).to({scaleX:1,scaleY:1,x:C+t.diffX,y:O+t.diffY},t.liftT).to({x:M+t.diffX,y:b+t.diffY},t.moveTime).to({scaleX:t.diffS,scaleY:t.diffS,x:M,y:b},t.pressT).call(t.dispatchEventWith,t,[gConst.eventType.GUIDE_TOUCH_ONE]).to({scaleX:1,scaleY:1,x:M+t.diffX,y:b+t.diffY},t.liftT).wait(t.waitT).to(S,t.isReturn?2*t.moveTime:t.waitT)
},this)}else{var x=this.initHandX,D=this.initHandY;this.updateGuideLoc(this.target2);var R=this.initHandX,G=this.initHandY;this.hand.x=x+this.diffX,this.hand.y=D+this.diffY,void 0==this.moveTime&&(this.moveTime=100);var L;L=this.isReturn?{x:x+this.diffX,y:D+this.diffY}:{alpha:0},egret.Tween.get(this.hand).to({alpha:1},300).call(function(){t.isMC?egret.Tween.get(t.hand,{loop:!0}).call(function(){t.hand.interval=t.pressT,t.hand.gotoAndPlay(t.fName,t.playCnt)},t).wait(t.pressT*t.playCnt*(t.frameCnt+3)).call(function(){t.hand.gotoAndStop(t.fName)},t).call(t.dispatchEventWith,t,[gConst.eventType.GUIDE_TOUCH_ONE]).wait(t.liftT).to({x:R,y:G},t.moveTime).call(function(){t.hand.interval=t.pressT,t.hand.gotoAndPlay(t.fName,t.playCnt)},t).wait(t.pressT*t.playCnt*(t.frameCnt+3)).call(function(){t.hand.gotoAndStop(t.fName)},t).call(t.dispatchEventWith,t,[gConst.eventType.GUIDE_TOUCH_ONE]).wait(t.liftT).wait(t.waitT).to(L,t.isReturn?t.moveTime:t.waitT):egret.Tween.get(t.hand,{loop:!0}).to({scaleX:t.diffS,scaleY:t.diffS,x:x,y:D,alpha:1},t.pressT).call(t.dispatchEventWith,t,[gConst.eventType.GUIDE_TOUCH_ONE]).to({scaleX:1,scaleY:1,x:x+t.diffX,y:D+t.diffY},t.liftT).to({x:R+t.diffX,y:G+t.diffY},t.moveTime).to({scaleX:t.diffS,scaleY:t.diffS,x:R,y:G},t.pressT).call(t.dispatchEventWith,t,[gConst.eventType.GUIDE_TOUCH_ONE]).to({scaleX:1,scaleY:1,x:R+t.diffX,y:G+t.diffY},t.liftT).wait(t.waitT).to(L,t.isReturn?t.moveTime:t.waitT)},this)}else this.isBack?(this.hand.x=this.initHandX,this.hand.y=this.initHandY,egret.Tween.get(this.hand).to({alpha:1},300).call(function(){t.isMC?egret.Tween.get(t.hand,{loop:!0}).call(function(){t.hand.gotoAndStop(t.fName,2)},t).wait(t.liftT+t.waitT).call(function(){t.hand.interval=t.pressT,t.hand.gotoAndReverse(t.fName,t.playCnt)},t).wait(t.pressT*t.playCnt*(t.frameCnt+3)).call(function(){t.hand.gotoAndStop(t.fName,2)},t).call(t.dispatchEventWith,t,[gConst.eventType.GUIDE_TOUCH_ONE]):egret.Tween.get(t.hand,{loop:!0}).to({scaleX:1,scaleY:1,x:t.initHandX+t.diffX,y:t.initHandY+t.diffY},t.liftT).wait(t.waitT).to({scaleX:t.diffS,scaleY:t.diffS,x:t.initHandX,y:t.initHandY},t.pressT).call(t.dispatchEventWith,t,[gConst.eventType.GUIDE_TOUCH_ONE])},this)):(this.hand.x=this.initHandX+this.diffX,this.hand.y=this.initHandY+this.diffY,egret.Tween.get(this.hand).to({alpha:1},300).call(function(){if(t.isMC)if(t.playCnt>-1){var e=t.playCnt;egret.Tween.get(t.hand,{loop:!0}).call(function(){t.hand.interval=t.pressT,t.hand.gotoAndPlay(t.fName,t.playCnt)},t).wait(t.pressT*t.playCnt*(2*t.frameCnt)).call(function(){t.hand.gotoAndStop(t.fName)},t).call(function(){return t.dispatchEventWith.call(t,gConst.eventType.GUIDE_TOUCH_ONE),e--,0>=e?void t.over():void 0}).wait(t.waitT)}else t.hand.interval=t.pressT,t.hand.gotoAndPlay(t.fName,t.playCnt);else egret.Tween.get(t.hand,{loop:!0}).to({scaleX:t.diffS,scaleY:t.diffS,x:t.initHandX,y:t.initHandY},t.pressT).call(t.dispatchEventWith,t,[gConst.eventType.GUIDE_TOUCH_ONE]).to({scaleX:1,scaleY:1,x:t.initHandX+t.diffX,y:t.initHandY+t.diffY},t.liftT).wait(t.waitT)},this))},e}(t.ComFile);t.ComGuide=e,__reflect(e.prototype,"com.ComGuide")}(com||(com={}));var util;!function(t){var e=function(){function t(t){this.partScale=1,this.scene=t,this.init()}return t.prototype.init=function(){var t=this.scene.scaleX;this.scene.width=this.scene.width*t,this.scene.height=this.scene.height*t,this.scene.scaleX=this.scene.scaleY=1},t.prototype.setLookPot=function(t){t&&(this.lookPot||(this.lookPot={}),this.lookPot.x=t.x,this.lookPot.y=t.y)},t.prototype.upBaseScale=function(){var t=GameMgr.gameview.width/1334,e=GameMgr.gameview.height/1334;this.baseScale=Math.max(t,e)},t.prototype.checkCameraScale=function(t){var e;return void 0==t?e=1*this.partScale:(e=1*t,this.partScale=t),e},t.prototype.checkCameraPot=function(t){var e,i;if(t)e=t.x,i=t.y;else{if(!this.lookPot)return;e=this.lookPot.x,i=this.lookPot.y}return{x:e,y:i}},t.prototype.tranCameraLoc=function(t,e){if(t=this.checkCameraPot(t)){var i=this.checkCameraScale(e),o=this.scene.parent,a=o.width/2-t.x*i,n=o.height/2-t.y*i,r=o.parent||GameMgr.gameview,s=(o.width*o.scaleX-r.width)/2;if(a>s)a=s;else{var h=r.width-this.scene.width*i*o.scaleX;h>a&&(a=h)}var c=(o.height*o.scaleY-r.height)/2;if(n>c)n=c;else{var l=r.height-this.scene.height*i*o.scaleY;l>n&&(n=l)}return{x:a,y:n}}},t.prototype.upCamera=function(t,e,i,o,a){void 0===t&&(t=!0);for(var n=[],r=5;r<arguments.length;r++)n[r-5]=arguments[r];if(e=this.checkCameraPot(e)){this.setLookPot(e);var s=this.checkCameraScale(i);this.upBaseScale();var h=this.tranCameraLoc(e,i);t?gTween.tween(this.scene,void 0,{props:{x:h.x,y:h.y,scaleX:s,scaleY:s},duration:500,call:{callback:function(){o&&o.call.apply(o,[a].concat(n))}}}):(this.scene.x=h.x,this.scene.y=h.y,this.scene.scaleX=s,this.scene.scaleY=s)}},t}();t.CameraMgr=e,__reflect(e.prototype,"util.CameraMgr")}(util||(util={}));var data;!function(t){var e=function(){function t(){}return t}();t.ConfigData=e,__reflect(e.prototype,"data.ConfigData")}(data||(data={}));var data;!function(t){var e=function(){function t(){}return t.config=function(t){return this._config[t]},t}();e._config={1:{name:"p_hen_left_png",location:"top",x:268,y:160,y2:190,goalX:600,lastLayer:2,scaleX:-.8,scaleY:.8},2:{name:"p_machine1_2_png",location:"top",x:500,y:230,goalX:1238,lastLayer:2},3:{name:"p_machine1_2_png",location:"bottom",x:-108,y:196,goalX:682,lastLayer:1},4:{name:"p_machine2_2_png",location:"bottom",x:684,y:210,goalX:1624,lastLayer:1}},t.EndViewData=e,__reflect(e.prototype,"data.EndViewData")}(data||(data={}));var data;!function(t){var e=function(){function t(){this.init()}return t.prototype.init=function(){this.horizontal={x:0,y:0},this.vertical={x:0,y:0},this.topSpace=.05,this.rightSpace=25,this.bottomSpace=20,this.leftSpace=.005,this.horRatio=20,this.verRatio=null,this.horSpace=null,this.verSpace=null,this.center=null,this.centerOffset=null,this.scale=1},t}();t.FirstData=e,__reflect(e.prototype,"data.FirstData")}(data||(data={}));var data;!function(t){var e=function(){function t(t,e,i,o){void 0===o&&(o={}),this.fName="1",this.direct=1,this.fName=t,this.frameCnt=e,this.frameName=i,this.backplay=o.backplay||!1,this.firstIndex=o.firstIndex||1,this.order=o.order,this.minBit=o.minBit}return t}();t.McData=e,__reflect(e.prototype,"data.McData")}(data||(data={}));var AssetAdapter=function(){function t(){}return t.prototype.getAsset=function(t,e,i){function o(o){e.call(i,o,t)}if(RES.hasRes(t)){var a=RES.getRes(t);a?o(a):RES.getResAsync(t,o,this)}else RES.getResByUrl(t,o,this,RES.ResourceItem.TYPE_IMAGE)},t}();__reflect(AssetAdapter.prototype,"AssetAdapter",["eui.IAssetAdapter"]);var gUiMgr=new util.UiMgr,gAutoId=new util.AutoId,gComMgr=new util.ComMgr,gGuideMgr=new util.GuideMgr,gSoundMgr=new util.SoundMgr,gTween=new util.TweenMgr,gMath=new util.MathMgr,gDevelop=new util.DevelopMgr,MainView=function(t){function e(){var e=t.call(this)||this;return GameMgr.init(),GameMgr.mainView=e,GameMgr.gameview=new scene.GameScene,GameMgr.gameview.open(),e.addEventListener(egret.Event.ENTER_FRAME,e.update,e),e.addChild(GameMgr.gameview),e}return __extends(e,t),e.prototype.update=function(t){var e=GameMgr.getWinW;this.curw!=e&&this.resizeView()},e.prototype.initResizeView=function(t){var e,i=GameMgr.getWinW,o=GameMgr.getWinH,a=null===GameMgr.screenType||t;GameMgr.stage.stageWidth<GameMgr.stage.stageHeight?(0===GameMgr.screenType&&(a=!0),GameMgr.screenType=1,GameMgr.stage.scaleMode=egret.StageScaleMode.FIXED_WIDTH,e=GameMgr.stage.stageWidth/GameMgr.stage.stageHeight):(1===GameMgr.screenType&&(a=!0),GameMgr.screenType=0,GameMgr.stage.scaleMode=egret.StageScaleMode.FIXED_HEIGHT,e=GameMgr.stage.stageHeight/GameMgr.stage.stageWidth),GameMgr.mobileType=.51>e?1:.65>e?2:3,this.curw=i;var n,r;return i>o?(r=750,n=750/o*i,GameMgr.stage.orientation=egret.OrientationMode.LANDSCAPE):(n=750,r=750/i*o,GameMgr.stage.orientation=egret.OrientationMode.PORTRAIT),GameMgr.gameview&&(GameMgr.gameview.width=Math.ceil(n),GameMgr.gameview.height=Math.ceil(r)),GameMgr.scale=1,a},e.prototype.resizeView=function(t,e){var i=this.initResizeView(e);this._resizeView(),i&&this._rotateView()},e.prototype._resizeView=function(){GameMgr.gameview&&GameMgr.gameview.resizeView()},e.prototype._rotateView=function(){GameMgr.gameview&&GameMgr.gameview.rotateView()},e}(eui.Component);__reflect(MainView.prototype,"MainView");